"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[7288],{86716:(e,t,a)=>{a.d(t,{Z:()=>N});var s=a(59496),r=a(53083),n=a(80326),i=a(3777),c=a(30985),l=a(38698),o=a(31386),d=a(50838);const h="MUiWCNTfb6FcSwVPvQ1V",m="UAk3bMhekwJTV_wIyfsT",g="X9w6LPfKsZHMCs38sVIQ",x="NXn5KjeUOjLGlAfS1Gao",u="N0wgFMDDvCiby4QB5kLJ",j="nloNe2BLRHjz9dxlwfLU",p="JzXND83mXvcEuntCNR34",v="GR08E4L_rOGljyQQX30R";var y=a(4637);const N=(0,s.memo)((e=>{const{concert:t,isVirtual:a,onClick:s}=e,{venue:N,location:f}=t,k=t.artists[0],D=(0,o.CH)(t.startDate.localDate);return(0,y.jsxs)(i.Link,{to:`/concert/${t.id}`,className:h,onClick:s,children:[k.imageUri&&(0,y.jsx)(c.Z,{children:(0,y.jsx)("div",{role:"img",className:v,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(6, 6, 6, 0.6) 60%, rgba(0, 0, 0, 0.7) 100%), url(${k.imageUri})`}})}),(0,y.jsx)("time",{className:m,dateTime:t.startDate.localDate,children:(0,y.jsx)(r.D,{as:"h5",variant:"mestoBold",children:(0,o.jx)(D)})}),(0,y.jsxs)("div",{className:g,dir:"auto",children:[(0,y.jsxs)(r.D,{as:"h2",className:p,variant:"mesto",children:[(0,l.FO)(D)," • ",(0,o.hK)(D)]}),(0,y.jsx)(r.D,{as:"h2",variant:"cello",weight:"bold",className:x,children:(0,d.ij)(t)}),(0,y.jsx)("div",{className:u,children:(0,y.jsx)(r.D,{as:"h2",className:j,variant:"mesto","data-testid":"location-name",children:a?N:[N,f].join(n.ag.getSeparator())})})]})]})}))},82175:(e,t,a)=>{a.r(t),a.d(t,{default:()=>be});var s=a(75387),r=a(92053),n=a(80326),i=a(27293),c=a(39359),l=a(32366),o=a(59496),d=a(53083),h=a(51956),m=a(63061),g=a(86417),x=a(18805),u=a(53965),j=a(99567),p=a(69698),v=a(13034),y=a(45337),N=a(97921),f=a(67618),k=a(23351),D=a(24131),b=a(11278),C=a(76964),_=a(4637);const w=o.memo((function({uri:e}){const{spec:t}=(0,D.T)(e);return(0,_.jsx)(k.ZP,{value:"concert",children:(0,_.jsxs)(f.v,{children:[(0,_.jsxs)(b.q,{children:[(0,_.jsx)(C.Jx,{spec:t,uri:e,displayText:n.ag.get("context-menu.copy-concert-link")}),(0,_.jsx)(C.W2,{spec:t,uri:e})]}),(0,_.jsx)(C.h$,{spec:t,uri:e})]})})}));var L=a(3777),P=a(92753),U=a(55540),I=a(85584),S=a(96723),T=a(31386);const A="YpfopxY2udneDY34uzRN",F="KI_0F1jtTR5tWgl7gZ1E",K="gKtc3TdowDTXBaVESi1D",E="V8TIr8yJq4tYZfPEzm12",V="VvL91cIRcCi1hJh0K845",M="vKcnOO1GNYoLKHg4T4lK",O="LdW0YNvo_Y77hgqhL4zY",Z="cTkykhjfHxkEGKbxSxXw",$="XgeTnLs82tTjczDR6oKn",R="P3fE7wn6Tqnibn3gljKV",Y="A8LG_5Dvp7IiXDtdR571",z="OVY7plwgy_AKAzhgoCAF",H="O0PSSw8ttrMn9lzq_L16",Q="FtDMCmLKQUjVntZJ3OiI",G="D_ffrfn62aOgZKOFfZVr",J="OH4mOZCual2ejIodzIkL",W="se_ixDV6hBf7lve861oU",X="YDAJHPP5lDmg71SdvJZC",q="lKQxSRsi8KcoYx5D7mjh",B=(0,o.memo)((e=>{const{concert:t,onClick:a}=e,{category:s,venue:r,location:n,lat:i,lon:c}=t;if("ONLINE"===s)return(0,_.jsx)(d.D,{as:"h3",variant:"canon",children:r});const l=new URL("https://maps.google.com/");return l.searchParams.set("q",`${r},${n}`),l.searchParams.set("ll",`${i},${c}`),(0,_.jsx)(L.default,{to:l.href,target:"_blank",onClick:()=>a(l.href),children:(0,_.jsxs)(d.D,{as:"h3",variant:"canon",children:[r,", ",n]})})})),ee=(0,o.memo)((e=>{const{concert:t,ticketAvailabilityTranslated:a,entitySpec:s}=e,r=(0,o.useMemo)((()=>s.ticketProviderListFactory()),[s]),i=(0,v.$P)(),c=(0,v.Wi)(r),l=(0,T.CH)(t.date),h=`spotify:concert:${t.id}`,m=(0,P.o)();if(0===t.ticketers.length)return null;if((0,T.OF)(t.date))return(0,_.jsxs)("div",{className:O,children:[(0,_.jsx)(d.D,{as:"h3",variant:"canon",children:n.ag.get("concert_event_ended")}),(0,_.jsx)(d.D,{variant:"ballad",children:(0,_.jsx)(L.default,{to:"spotify:concerts",children:n.ag.get("concert_past_message")})})]});return(0,_.jsxs)("div",{className:O,ref:c,children:[(0,_.jsx)(d.D,{as:"h3",variant:"canon",children:(0,_.jsx)(B,{concert:t,onClick:e=>{const t=s.venueMapLinkFactory().hitNavigateToExternalUri({destination:e});i.logInteraction(t)}})}),(0,_.jsxs)(d.D,{as:"h3",variant:"mesto",className:X,children:[(0,T.xE)(l)," • ",(0,T.hK)(l)]}),(0,_.jsx)(d.D,{as:"h3",className:M,variant:"mesto",children:(g=t.ticketers,0===g.length?null:1===g.length?n.ag.get("concert.header.tickets_from_1",g[0].partnerDisplayName):2===g.length?n.ag.get("concert.header.tickets_from_2",g[0].partnerDisplayName,g[1].partnerDisplayName):3===g.length?n.ag.get("concert.header.tickets_from_3",g[0].partnerDisplayName,g[1].partnerDisplayName,g[2].partnerDisplayName):n.ag.get("concert.header.tickets_from_4",g[0].partnerDisplayName,g[1].partnerDisplayName,g[2].partnerDisplayName,g.length-3))}),a&&(0,_.jsx)(d.D,{as:"h3",className:M,variant:"mesto",children:a}),(0,_.jsx)(U.yj,{menu:(0,_.jsx)(w,{uri:h}),onShow:()=>{const e=s.contextMenuButtonFactory().hitUiReveal();i.logInteraction(e)},children:(0,_.jsx)(N.z,{size:32,className:Q})}),(0,_.jsx)(d.D.h3,{variant:"canon",children:n.ag.get("concert.header.available_tickets_from")}),(0,_.jsx)("div",{className:Z,children:t.ticketers.map(((e,t)=>(0,_.jsxs)(L.default,{to:e.url,className:$,onClick:()=>{const a=r.ticketProviderCellFactory({identifier:e.partnerDisplayName,position:t}).hitNavigateToExternalUri({destination:e.url});i.logInteraction(a),m({targetUri:h,intent:"find-concert",type:"click"})},children:[(0,_.jsx)("div",{className:R,children:(0,_.jsx)(S.Ee,{loading:"eager",srcSet:e.imageURL,src:e.imageURL,height:"100%",width:"100%",children:(0,_.jsx)(y.i,{className:Y,iconSize:24})})}),(0,_.jsxs)("div",{className:H,children:[(0,_.jsx)(d.D.span,{children:e.partnerDisplayName}),(0,_.jsx)(I.h,{className:z,iconSize:24})]})]},e.url)))})]});var g}));var te=a(86440),ae=a(44223),se=a(48882),re=a(30985);const ne="bnxKFmECExdcmyBXx9f_",ie="UrPgHWUndGwAWPfONuwd",ce="pF2W693VDIpPdVTVCsDg",le="YGVuy3Qzaam0CJPc_s4K",oe="r5Kj2xQVLHK0hf_J00US",de="qCN2f5PHVrzAPLvQ0lNc",he=(0,o.memo)((e=>{const{entity:t,headliner:a,onClick:s}=e,{imageUri:r,name:i,uri:c}=t;return(0,_.jsxs)(L.Link,{to:c,className:ne,onClick:s,children:[r?(0,_.jsx)(re.Z,{children:(0,_.jsx)("div",{"data-testid":"image-container",className:de,style:{backgroundImage:`linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(${r})`}})}):null,(0,_.jsxs)("div",{className:ie,children:[a&&(0,_.jsx)("div",{className:le,children:(0,_.jsx)(d.D,{as:"h4",variant:"mestoBold",className:oe,weight:"bold",children:n.ag.get("concert.label.headliner")})}),(0,_.jsx)(d.D,{as:"h2",variant:"alto",className:ce,children:i})]})]})})),me=he,ge=(0,o.memo)((e=>{const{artist:t,albums:a,position:s,lineupArtistsSpec:r}=e,i=(0,o.useMemo)((()=>r.artistRowFactory({position:s,uri:t.uri})),[r,s,t.uri]),c=(0,v.$P)(),l=0===s,d=`${(0,se.GJ)(t.id)}:discography`;return(0,_.jsx)(k.ZP,{value:"headered-grid",index:s,children:(0,_.jsx)(v.Nh,{spec:i||null,children:(0,_.jsx)(ae.P,{title:l?n.ag.get("concert_lineup"):"",total:a.length+2,seeAllUri:d,seeAllLabel:n.ag.get("artist-page.show-discography"),onClickShelfSeeAll:()=>{const e=i.seeDiscographyLinkFactory().hitUiNavigate({destination:d});c.logInteraction(e)},children:[(0,_.jsx)(me,{entity:t,headliner:l,onClick:()=>{const e=i.artistCardFactory().hitUiNavigate({destination:t.uri});c.logInteraction(e)}},`ConcertArtistCard-${t.id}`),null,...a.map(((e,a)=>(0,_.jsx)(te.r,{index:a,artists:[{uri:t.uri,name:t.name}],images:[{url:e.imageUri,width:100,height:100}],name:e.name,uri:e.uri,sharingInfo:null},e.uri)))]})})},t.uri)})),xe=(0,o.memo)((e=>{const{albums:t,artists:a,entitySpec:s}=e,r=(0,o.useMemo)((()=>s.lineupArtistsFactory()),[s]),n=(0,v.Wi)(r),i=(0,o.useMemo)((()=>{const e={};return t.forEach((t=>{const a=t.artistName;e[a]?e[a].push(t):e[a]=[t]})),e}),[t]);return(0,_.jsx)("div",{className:G,ref:n,"data-testid":"concert-lineup",children:a.map(((e,t)=>(0,_.jsx)(ge,{artist:e,albums:i[e.name]||[],position:t,lineupArtistsSpec:r},e.uri)))})})),ue="y4xsX4QR_wfM40vOhsQ4",je="TPdGbM0PhSqxmhkxP9n2",pe="y33j8HV43EGq3BPkZrLA",ve=(0,o.memo)((e=>(0,_.jsxs)(L.Link,{to:"spotify:concerts",className:ue,onClick:e.onClick,children:[(0,_.jsx)(re.Z,{children:(0,_.jsx)("div",{className:pe,style:{backgroundImage:"linear-gradient(180deg, rgba(18, 18, 18, 0) 0%, rgba(18, 18, 18, 0.5) 50.52%, rgba(18, 18, 18, 0.7) 100%), url(https://concerts.spotifycdn.com/ConcertHubCard.png)"}})}),(0,_.jsx)("div",{className:je,children:(0,_.jsx)(d.D,{as:"h2",variant:"canon",children:n.ag.get("concerts_browse_more")})})]})));var ye=a(86716);const Ne=(0,o.memo)((e=>{const t=(0,o.useMemo)((()=>e.entitySpec.recommendedConcertsFactory()),[e.entitySpec]),a=(0,v.$P)(),s=(0,v.Wi)(t),r=e.upcomingConcerts;if(!r||r.length<1)return null;const i=r.map(((e,s)=>{const r=`spotify:concert:${e.concert.id}`;return(0,_.jsx)(ye.Z,{concert:e.concert,onClick:()=>{const e=t.concertCardFactory({position:s,uri:r}).hitUiNavigate({destination:r});a.logInteraction(e)}},e.concert.id)}));return(0,_.jsx)("div",{className:W,ref:s,"data-testid":"concert-recommendations",children:(0,_.jsx)(k.ZP,{value:"headered-grid",children:(0,_.jsxs)(ae.P,{title:n.ag.get("concerts_more_events"),total:r.length+1,className:q,showSeeAll:!0,seeAllUri:"spotify:concerts",seeAllLabel:n.ag.get("view.see-all"),children:[(0,_.jsx)(ve,{onClick:()=>{const e=t.browseCardFactory().hitUiNavigate({destination:"spotify:concerts"});a.logInteraction(e)}}),i]})})})}));var fe=a(50838);const ke=(0,o.memo)((e=>{const{data:t}=e,{artists:a,albums:s,upcomingConcerts:r}=t,n=t.concert.concert,{spec:i}=(0,v.fU)(h.createDesktopConcertEntityEventFactory,{data:{identifier:n.id,uri:`spotify:concert:${n.id}`}});return(0,p.Y)(t.color),(0,_.jsxs)("section",{className:E,children:[(0,_.jsx)(g.$,{children:(0,fe.Yl)(n)}),(0,_.jsxs)(x.gF,{backgroundImages:[{url:t.headerImageUri,width:100,height:100}],backgroundColor:t.color,children:[(0,_.jsxs)(x.sP,{children:[(0,_.jsx)(x.T0,{children:(0,_.jsx)("div",{className:A,children:(0,_.jsx)(d.D,{as:"h3",variant:"canon",className:F,children:(0,T.jx)((0,T.CH)(n.date))})})}),(0,_.jsx)(x.xd,{children:(0,fe.Yl)(n)})]}),(0,_.jsx)(u.W,{children:(0,_.jsx)("div",{className:J,children:(0,_.jsx)(j.i,{text:(0,fe.Yl)(n)})})})]}),(0,_.jsxs)("div",{className:K,children:[(0,_.jsx)(m.I,{backgroundColor:t.color}),(0,_.jsxs)("div",{className:V,children:[(0,_.jsx)(ee,{concert:n,ticketAvailabilityTranslated:t.ticketAvailabilityTranslated,entitySpec:i}),(0,_.jsx)(xe,{artists:a,albums:s,entitySpec:i}),(0,_.jsx)(Ne,{upcomingConcerts:r,entitySpec:i})]})]})]})})),De=async e=>{const[t,a]=e.queryKey;return(await(0,l.getConcert)(c.b.getInstance(),a)).body},be=()=>{const{concertId:e=""}=(0,r.UO)(),{data:t,isLoading:a}=(0,s.useQuery)(["concert",e],De,{staleTime:6e5});return a?(0,_.jsx)(i.h,{hasError:!1,errorMessage:""}):t?(0,_.jsx)(ke,{data:t}):(0,_.jsx)(i.h,{hasError:!0,errorMessage:n.ag.get("concert.error.concert_not_found_title")})}}}]);
//# sourceMappingURL=xpui-routes-concert.js.map