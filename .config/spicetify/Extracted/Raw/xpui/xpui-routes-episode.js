"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[3472],{5797:(e,t,s)=>{s.d(t,{o:()=>n});var a=s(33366),i=s(85388);function n(){return{version:(0,a.W6)(i.GE)?2:1}}},87477:(e,t,s)=>{s.d(t,{p:()=>u,q:()=>r.q});var a=s(59496),i=s(90641),n=s(99654),r=s(97174),o=s(89634),l=s(92753),c=s(4637);const d=a.memo((function({uri:e,size:t=r.q.md,className:s,onClick:d,showUpsell:u}){const[p,m]=(0,n.Z)(e),x=(0,i.I0)(),h=(0,l.o)(),y=(0,a.useCallback)((()=>{h({targetUri:e,intent:p?"remove-from-library":"add-to-library",type:"click"}),m(!p),x(p?(0,o.SS)():(0,o.kK)())}),[h,e,p,m,x]);return(0,c.jsx)(r.o,{className:s,isFollowing:p,onFollow:y,onClick:d,uri:e,size:t,showUpsell:u})})),u=a.memo((function(e){return(0,c.jsx)(d,{...e})}))},16518:(e,t,s)=>{s.r(t),s.d(t,{default:()=>dt});var a=s(59496),i=s(92053),n=s(33366),r=s(77250),o=s(6063),l=s(58908),c=s(80326),d=s(86417),u=s(44881),p=s(27293),m=s(26289),x=s(5797),h=s(38368),y=s(4637);const g=(0,a.lazy)((()=>s.e(7778).then(s.bind(s,97778))));function j(e){const t=(0,h.m)(),s=(0,x.o)();return t?(0,y.jsx)(a.Suspense,{fallback:!0,children:(0,y.jsx)(g,{reason:"Episode page",...s,...e})}):null}const b="dpN5ViPOceUWNB5EQPHN",k="vBcxPq3E2okwgXOkVPEM",C="HCCBXwdFvq6omWW2hR0N",P="bJOPO5Zo7dpjSVDwEpSw",f="TXdDDpokVTyJzDEDWHHf",v="HaSbtEVJnxBsaJ5SRi0M",T="YldGldlfaI9myEGXQf9g",I="qJHVIpJn1vLPWsAKfTEZ",E="wSIzjkVlr0Zdy7di2vRm",S="hYS_K1NATGyWt6tCSRqQ",N="hVVaM4pF9arpQ8Nvn2a1",D="zf0Eac1LugsHUacz74Zf",L="TnNaqxbaI0hzhBQZ7wE0",U="zSw1lG1TNe_xm6KTqtCv",R="MlEQDkXnjdKKJueJ9kkB",w="jg0xlyD1yjh0DPNG6eOg",M="QiHXpFb4dLZNOFe5gpp3";var F=s(53083),B=s(82852),A=s(13034),z=s(6923),O=s(85388),_=s(93711);const $=({cardHeaderText:e,cardBodyText:t,buttonText:s,buttonTarget:a})=>(0,n.W6)(O.vp)?(0,y.jsxs)("div",{className:T,children:[(0,y.jsxs)("div",{className:I,children:[(0,y.jsx)(F.D,{variant:"balladBold",semanticColor:"textBase",children:e}),(0,y.jsx)(F.D,{semanticColor:"textBase",children:t})]}),(0,y.jsx)(z.D,{buttonSize:"sm",colorSet:"invertedLight",href:(0,l.EC)(a).toURLPath(!0),component:_.Z,children:s})]}):null,q=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:i,htmlDescription:n,onExpanded:r,onTimeStampClick:o,playability:l,showHeader:d=!0,spec:u})=>{const p=(0,A.$P)(),m=(i||t)&&d,x=(0,a.useCallback)((e=>{const t=u.readMoreButtonFactory();p.logInteraction(e?t.hitUiReveal():t.hitUiHide()),r?.()}),[u,p,r]);return(0,y.jsxs)(y.Fragment,{children:[m&&(0,y.jsx)(F.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:C,children:c.ag.get("episode.description-title")}),t&&(0,y.jsx)($,{cardHeaderText:t.cardHeaderText,cardBodyText:t.cardBodyText,buttonText:t.buttonText,buttonTarget:t.buttonTarget}),i&&(0,y.jsx)(B.o,{className:k,onTimeStampClick:o,maxLines:4,onExpanded:x,content:(s||"").trim(),htmlContent:e&&n?n:void 0,enableTimestamps:l.playable})]})};var H,W=s(84875),V=s.n(W),Z=s(76694),K=s(29832),Y=s(95486),G=s(67553),J=s(79268),X=s(8566);!function(e){e.DESCRIPTION="description",e.TRANSCRIPT="transcript"}(H||(H={}));const Q=a.memo((function({transcriptSections:e,descriptionContent:t,transcriptContent:s,spec:i}){const n=(0,A.$P)(),[r,o]=(0,a.useState)(H.DESCRIPTION),{scrollNodeRef:l}=a.useContext(X.VX),{ref:d,inView:u}=(0,Z.YD)({threshold:[1],root:l.current,rootMargin:`-${J.K1+1}px 100000px 0px 100000px`}),p=(0,a.useRef)(null),m=(0,a.useCallback)((e=>{p.current=e,d(e)}),[d]);return(0,a.useEffect)((()=>{const e=p.current?.parentElement?.offsetTop,t=l?.current;if(!e||!t)return;const s=e-J.K1;t.scrollTop>s&&t.scrollTo({top:s})}),[l,r]),(0,y.jsx)(K.l,{list:(0,y.jsxs)(Y.F,{className:V()(R,{[w]:!u}),ref:m,children:[(0,y.jsx)(G.c,{label:c.ag.get("web-player.episode.description"),sentenceCase:!0,active:r===H.DESCRIPTION,onClick:()=>{const e=i.tabsFactory().descriptionTabButtonFactory().hitUiReveal();n.logInteraction(e),o(H.DESCRIPTION)},className:V()(M,{[E]:r===H.DESCRIPTION})}),(0,y.jsx)(G.c,{label:c.ag.get("web-player.episode.transcript"),sentenceCase:!0,disabled:null===e,active:r===H.TRANSCRIPT,onClick:()=>{const e=i.tabsFactory().transcriptTabButtonFactory().hitUiReveal();n.logInteraction(e),o(H.TRANSCRIPT)},className:V()(M,{[E]:r===H.TRANSCRIPT})})]}),children:null===e||r===H.DESCRIPTION?t:s})}));var ee=s(61741),te=s(18633);const se=(0,a.memo)((function({transcriptSections:e,onTimeStampClick:t,episodeUri:s}){return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("div",{className:N,children:(0,y.jsx)(F.D,{variant:"viola",semanticColor:"textBase",children:c.ag.get("web-player.episode.transcript.disclaimer")})}),e.map(((e,a)=>{const i=`transcript-section-${a}`;return(0,y.jsxs)("div",{className:S,children:[(0,y.jsx)("button",{className:D,onClick:()=>{t(e.startMs,i)},children:(0,y.jsx)(ee.D,{id:i,targetURI:(0,l.EC)(s),fadeOut:!0,children:(0,y.jsx)(F.D,{variant:"finaleBold",semanticColor:"textSubdued",className:L,children:(0,te.m)(e.startMs)})})}),e.content.map(((e,t)=>(0,y.jsx)(F.D,{variant:"viola",semanticColor:"textBase",className:U,dir:"auto",children:e},`transcript-text-${t}`)))]},i)}))]})}));var ae=s(79494),ie=s(51841),ne=s(6928),re=s(23731),oe=s(93593),le=s(42820),ce=s(66712),de=s(56868),ue=s(27951),pe=s(55540),me=s(23351);const xe="OYehkMWcGJRKPkByp46K",he="uc1bXkrZqrCz0CMK4lBb",ye="qZeibBbA3SVClzEueYND",ge=({episodeUri:e,index:t,duration:s,start:i,stop:n,name:r,uri:o,artists:l,album:d,playable:u})=>{const{isActive:p,isPlaying:m,onClick:x}=(0,ue.k)({episodeUri:e,start:i,stop:n}),h=(0,a.useCallback)(((e,t)=>{x(t)}),[x]),{spec:g}=(0,A.fU)(oe.createDesktopTrackListRowEventFactory,{data:{position:t,reason:"",uri:o}});return(0,y.jsx)(me.ZP,{value:"row",index:t,children:(0,y.jsx)(pe.xV,{trigger:"right-click",action:"open",menu:(0,y.jsx)(le.$,{uri:o}),children:(0,y.jsxs)(de.c,{uri:o,index:t,ariaRowIndex:t+1,dragMetadata:{name:r,createdBy:l?.[0].name??""},onTriggerPlay:h,isActive:p,isPlayable:u,spec:g,children:[(0,y.jsxs)(ce.vZ,{ariaColIndex:0,children:[(0,y.jsx)(ce.Du,{uri:o,playAriaLabel:c.ag.get("tracklist.a11y.play",r,l?.[0].name),onClick:h,isPlaying:m,isActive:p,spec:g,children:(0,y.jsx)(ce.km,{children:(0,y.jsx)("img",{className:he,src:d.image,alt:d.name})})}),(0,y.jsxs)(ce.vm,{children:[(0,y.jsx)(ce.Wh,{titleText:r,children:r}),(0,y.jsx)(ce.K9,{children:(0,y.jsx)(ce.T6,{artists:l,spec:g})})]})]}),(0,y.jsx)(ce.UA,{ariaColIndex:1,children:(0,y.jsx)(ce.BM,{uri:d.uri,name:d.name,spec:g,children:d.name})}),(0,y.jsxs)(ce.mU,{ariaColIndex:2,children:[(0,y.jsx)(ce.qS,{uri:o,spec:g}),(0,y.jsx)(ce.A$,{duration:s}),(0,y.jsx)(ce.Zv,{spec:g,menu:(0,y.jsx)(le.$,{uri:o,artists:l}),label:c.ag.get("more.label.track",r,l?.[0].name)})]})]})})})};function je(e,t,s){return e.reduce(((e,a,i)=>((i>0||t>0)&&e.push({type:"SPACER",id:`spacer-${e.length}`}),"MUSIC"===a.type?e.push(function(e,t,s){return{type:"MUSIC",index:t,uri:s.uri,episodeUri:e,start:s.start,stop:s.stop,duration:s.duration,name:s.track.name,artists:s.track.artists,album:s.track.album,playable:s.track.playable}}(s,i,a)):"TALK"===a.type&&e.push(function(e,t,s){return{type:"TALK",index:t,uri:e,title:s.title,subtitle:s.subtitle,start:s.start,stop:s.stop,duration:s.duration,showUri:s.show.uri,showName:s.show.name}}(s,i,a)),e)),[])}const be=({uri:e,segmentCount:t})=>{const s=(0,ne.G)(),i=(0,a.useCallback)((async(a,i)=>{const n=Math.ceil(a/2);try{return{items:je(await s.getSegments(e,n,i),n,e),totalLength:2*t-1}}catch(e){return{items:[],totalLength:0}}}),[t,s,e]),n=(0,a.useCallback)((t=>{switch(t.type){case"SPACER":return(0,y.jsx)("div",{className:ye},t.id);case"MUSIC":return(0,y.jsx)(ge,{...t},`${e}-${t.index}`);case"TALK":return(0,y.jsx)(ae.t,{...t},`${e}-${t.index}`);default:return(0,re.U)(t)}}),[e]),r=c.ag.get("music_and_talk.in_this_episode");return(0,y.jsxs)("div",{children:[(0,y.jsx)(F.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:xe,children:r}),(0,y.jsx)(ie.Pv,{ariaLabel:r,hasHeaderRow:!0,rowPlaceholder:ie.hU,columns:[ie.QD.TITLE,ie.QD.ALBUM_OR_SHOW,ie.QD.DURATION],renderRow:n,fetchTracks:i,resolveUri:e=>"MUSIC"===e.type?e.uri:"",limit:50,nrTracks:2*t-1,testID:"music-and-talk-tracklist"})]})};var ke=s(99159);const Ce=({areHTMLDescriptionsEnabled:e,contentInformation:t,description:s,hasDescription:i,hasMusicAndTalkSegements:n,htmlDescription:r,onExpanded:o,onDescriptionTimestampClick:l,onTranscriptTimestampClick:d,playability:u,segmentCount:p,showUrl:x,transcript:h,transcriptEnabled:g,uri:b,spec:k})=>{const C=(0,A.$P)(),f=(0,a.useMemo)((()=>k.descriptionSectionFactory()),[k]),v=(0,a.useMemo)((()=>f.trackListFactory()),[f]),[T,I]=(0,a.useState)(null),E=(0,a.useCallback)((async e=>{const t=await(0,ke.l)(e);I(t)}),[]);(0,a.useEffect)((()=>{h&&h.length>0&&E(h[0].cdnUrl)}),[E,h]);const S=a=>(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(q,{hasDescription:i,contentInformation:t,onTimeStampClick:l,onExpanded:o,description:s,areHTMLDescriptionsEnabled:e,htmlDescription:r,playability:u,showHeader:a,spec:f}),n&&(0,y.jsx)(A.Nh,{spec:v,children:(0,y.jsx)(be,{segmentCount:p,uri:b})}),x&&(0,y.jsx)(m.P,{buttonSize:"sm",className:P,href:x,component:_.Z,onClick:()=>{C.logInteraction(f.allEpisodesLinkFactory().hitUiNavigate({destination:x}))},children:c.ag.get("episode.see_all_episodes")}),(0,y.jsx)(j,{uri:b})]});return(0,y.jsx)(y.Fragment,{children:g&&h&&h?.length>0?(0,y.jsx)(Q,{transcriptSections:T,descriptionContent:S(!1),transcriptContent:(0,y.jsx)(se,{transcriptSections:T||[],onTimeStampClick:d,episodeUri:b}),spec:k}):S(!0)})};var Pe=s(66787),fe=s(38402),ve=s(6236),Te=s(73075);const Ie="activation-trigger-mme",Ee=({episodeUri:e,showUri:t,isLocked:s,isPlaying:a,isPlayDisabled:i,playButtonPlayLabel:n,playButtonPauseLabel:r,onClick:o})=>{const c=(0,Te.E)();if((0,fe.g)())return(0,y.jsx)(ve.JM,{size:ve.qE.lg,onClick:o,isPlaying:a,disabled:i,locked:s,ariaPlayLabel:n,ariaPauseLabel:r});const d=(0,y.jsx)(Pe.l,{showUri:t,enabled:s,renderInline:!1,children:(0,y.jsx)(ve.JM,{size:ve.qE.lg,onClick:o,isPlaying:a,disabled:i,locked:s,ariaPlayLabel:n,ariaPauseLabel:r})});return c?(0,y.jsx)(ee.D,{id:Ie,targetURI:(0,l.EC)(e),fadeOut:!0,children:d}):d};var Se=s(31540),Ne=s(92753),De=s(6145),Le=s(38391),Ue=s(58964),Re=s(68765),we=s(4899),Me=s(64384),Fe=s(64237),Be=s(38662),Ae=s(34728),ze=s(90641),Oe=s(27848),_e=s(17913),$e=s(87477),qe=s(97921),He=s(14571),We=s(79459),Ve=s(20031),Ze=s(80505),Ke=s(13215),Ye=s(22508),Ge=s(69873),Je=s(44170),Xe=s(41314);const Qe=({episode:e,onPlayEpisode:t,isPlaying:s,isActive:i,isFullyPlayed:n,setIsFullyPlayed:r,backgroundColor:o,isLocked:l,spec:d})=>{const{uri:u,playedState:p,contentRating:m,playability:x}=e,h=(0,A.$P)(),g=(0,ze.I0)(),[j]=(0,Ge.z)(1e4,(e=>e?.item?.uri===u)),b=(0,Me.Y)((e=>e?.duration)),{badges:k}=(0,Xe.r)({contentRating:m?.label}),C=(0,a.useCallback)((e=>{!x.playable&&k.nineteen&&(e.stopPropagation(),g((0,Oe.RM)(u||"")))}),[u,x.playable,k.nineteen,g]),P=(0,a.useCallback)((()=>{const e=d.contextMenuButtonFactory().hitUiReveal();h.logInteraction(e)}),[h,d]),v=(0,a.useCallback)(((e,t)=>{(0,Ve.l7)(t,d.downloadButtonFactory(),h,u)}),[h,d,u]),T=(0,a.useCallback)((e=>{const t=d.saveButtonFactory();h.logInteraction(e?t.hitLike({itemToBeLiked:u}):t.hitRemoveLike({itemNoLongerLiked:u}))}),[h,d,u]),I=!l&&!e.playability.playable,E=c.ag.get("tracklist.a11y.play",e.name,e.podcast?.name),S=c.ag.get("tracklist.a11y.pause",e.name,e.podcast?.name),N=e.podcast?.uri;return(0,y.jsxs)(_e.o,{backgroundColor:o,children:[(0,y.jsxs)(_e.F,{children:[k.nineteen&&(0,y.jsx)(Ye.X,{className:f,size:16}),(0,y.jsx)(Je.E,{size:Je.$.LARGE,fullyPlayed:n,durationMs:i&&b?b:e.duration.milliseconds,releaseDate:ut(e.releaseDate?.isoString),resumePositionMs:p.playPositionMilliseconds,isPlaying:s,position:i&&j||void 0})]}),(0,y.jsxs)(_e.F,{children:[(0,y.jsx)("div",{onClick:C,children:(0,y.jsx)(Ee,{episodeUri:e.uri,showUri:N,isLocked:l,onClick:()=>{t(p.playPositionMilliseconds)},isPlaying:s,isPlayDisabled:I,playButtonPlayLabel:E,playButtonPauseLabel:S})}),!l&&(0,y.jsx)($e.p,{uri:e.uri,onClick:v}),(0,y.jsx)(He.w,{uri:e.uri,size:Ze.q.md,onClick:T}),(0,y.jsx)(Ke.y,{onShow:P,menu:(0,y.jsx)(We.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:N,contextUri:e.uri,isPlayed:n,onMarkAsPlayed:r}),children:(0,y.jsx)(qe.z,{label:c.ag.get("more.label.context",e.name)})})]})]})};var et=s(18805),tt=s(53965),st=s(99567),at=s(3777),it=s(35407),nt=s(64094);const rt=({episode:e,isFullyPlayed:t,setIsFullyPlayed:s,backgroundColor:i,spec:n})=>{const{uri:r,name:o,sharingInfo:d,playedState:u,episodeType:p,releaseDate:m}=e,x=(0,A.$P)(),h=function(e,t,s,a,i){const n=t===Ae.Wf.Episode;return(0,nt.G3)(e,a,s,i)?(0,y.jsx)(nt.Fg,{isMusicAndTalk:n}):n?c.ag.get("type.showEpisode"):c.ag.get("type.podcastEpisode")}(r,p||Ae.Wf.Unknown,u.playPositionMilliseconds,ut(m?.isoString),u.state===Ae.sY.Completed),g=e.podcast?.uri,j=function(e){const t=(0,l.EC)(e);return`/show/${(0,l.HB)(t?.id||"")}`}(g),b=(0,a.useCallback)((()=>{x.logInteraction(n.podcastLinkFactory().hitUiNavigate({destination:j}))}),[x,j,n]);return(0,y.jsxs)(et.gF,{backgroundColor:i,children:[(0,y.jsx)(tt.W,{children:(0,y.jsx)(st.i,{text:e.name,dragUri:r,dragLabel:e.name})}),(0,y.jsx)("div",{className:v,children:(0,y.jsx)(it._,{menu:(0,y.jsx)(We.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:g,contextUri:e.uri,isPlayed:t,onMarkAsPlayed:s}),children:(0,y.jsx)(et.Oe,{loading:"eager",name:e.name,images:e.coverArt,placeholderType:"episode",shape:et.Kc.ROUNDED_CORNERS})})}),(0,y.jsxs)(et.sP,{children:[(0,y.jsx)(et.dy,{small:!0,uppercase:!0,children:h}),(0,y.jsx)(it._,{menu:(0,y.jsx)(We.k,{uri:r,sharingInfo:d,showUri:g,contextUri:r,isPlayed:t,onMarkAsPlayed:s}),children:(0,y.jsx)(et.xd,{dragUri:r,dragLabel:o,children:(0,y.jsx)("span",{"data-testid":"episodeTitle",children:o})})}),(0,y.jsx)(it._,{menu:(0,y.jsx)(We.k,{uri:e.uri,sharingInfo:e.sharingInfo,showUri:g,contextUri:e.uri,isPlayed:t,onMarkAsPlayed:s}),children:(0,y.jsx)(et.dy,{large:!0,bold:!0,children:(0,y.jsx)(at.default,{to:j,onClick:b,children:(0,y.jsx)("span",{"data-testid":"showTitle",children:e.podcast?.name})})})})]})]})};var ot=s(57651),lt=s(75449);const ct=({episode:e})=>{const{uri:t,episodeType:s,description:i,htmlDescription:o,podcastSubscription:p,segmentsCount:m,podcast:x,contentInformation:h,playedState:g,coverArt:j}=e,{spec:k,logger:C}=(0,A.fU)(r.createDesktopEpisodeEventFactory,{data:{uri:t}}),P=(0,a.useMemo)((()=>k.headerFactory()),[k]),f=(0,a.useMemo)((()=>k.actionBarFactory()),[k]),[v,T]=(0,a.useState)(g.state===Ae.sY.Completed),I=(0,Ue.g)(),E=(0,Ne.o)(),S=(0,n.W6)(O.Cz),N=void 0!==m&&m>0,D=(0,n.W6)(O.WE,{loadingValue:!1}),L=(0,fe.g)(),{triggerPlay:U,togglePlay:R,isPlaying:w,isActive:M}=(0,Re.n)({uri:t},{featureIdentifier:"episode"}),{isActive:F}=(0,we.$o)(t),B=j[0].url,z=(0,Le.Zj)(B||null),_=(0,Me.Y)((e=>e?.isPaused??void 0)),$=(0,Te.E)(),q=p.isPaywalled&&!p.isUserSubscribed,H=F||M,W=e?{name:e.name,uri:e.uri,audio:{items:e.audio.items.map((e=>({url:e.url})))}}:null,V=x?{name:x.name,uri:x.uri,trailer:x.trailer,showTypes:x.showTypes}:null,Z=(0,De.s)(W,V),K=(0,a.useCallback)(((e,a,i,n)=>{const r=()=>{_?(n?.("resume"),I.resume()):(n?.("pause"),I.pause())};if(q)return;let o="play";if(!w||0!==e&&a||(o="pause"),E({intent:o,targetUri:t,type:"click",itemIdSuffix:e>0?"podcast-description-timestamp":"button"}),s===Ae.Wf.Episode&&$)u.y.set((()=>({triggerId:i||Ie,triggerAction:null})));else if(M&&!a)L?r():R({loggingParams:n?.()});else if(F&&!a)r();else{const t=n?.("play");L?Z({seekTo:e,loggingParams:t}):U({seekTo:e,loggingParams:t})}}),[q,w,E,t,s,$,F,M,L,_,I,R,Z,U]),Y=(0,a.useCallback)((e=>{K(e,!1,void 0,(e=>{const s=k.actionBarFactory().playButtonFactory();let a;return a="pause"===e||w?s.hitPause({itemToBePaused:t}):"resume"===e||H?s.hitResume({itemToBeResumed:t}):s.hitPlay({itemToBePlayed:t}),C.logInteraction(a)}))}),[K,H,w,C,k,t]),G=(0,a.useCallback)((e=>{K(e,!0,void 0,(()=>C.logInteraction(k.descriptionSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[K,C,k,t]),J=(0,a.useCallback)(((e,s)=>{K(e,!0,s,(()=>C.logInteraction(k.transcriptSectionFactory().timestampLinkFactory().hitPlay({itemToBePlayed:t}))))}),[K,C,k,t]),X=(0,a.useCallback)((()=>{E({intent:"expand-description",type:"click"})}),[E]);(0,a.useEffect)((()=>{if(e&&!H){const t=new URLSearchParams(location.search);if(t.has("t")){const s=t.get("t")||"0",a=1e3*parseInt(s,10);a<=e.duration.milliseconds&&K(a,!0)}}}),[e,H]);const Q=!!i||S&&!!o,ee=e.podcast?.uri,te=(0,l.EC)(ee)?.toURLPath(!0);return(0,y.jsxs)("section",{"data-testid":"episode",className:b,children:[(0,y.jsx)(d.$,{children:c.ag.get("podcasts.episode.seo.title",{name:e.name,show:e.podcast?.name??""})}),(0,y.jsx)(rt,{episode:e,isFullyPlayed:v,setIsFullyPlayed:T,backgroundColor:z,spec:P}),(0,y.jsx)(Qe,{episode:e,onPlayEpisode:Y,isPlaying:w,isActive:H,isFullyPlayed:v,setIsFullyPlayed:T,backgroundColor:z,isLocked:q,spec:f}),(0,y.jsx)("div",{className:"contentSpacing",children:(0,y.jsx)(Ce,{transcriptEnabled:D,transcript:e.transcript,hasDescription:Q,contentInformation:h,onDescriptionTimestampClick:G,onTranscriptTimestampClick:J,onExpanded:X,description:e.description,areHTMLDescriptionsEnabled:S,htmlDescription:e.htmlDescription,playability:e.playability,hasMusicAndTalkSegements:N,segmentCount:m,uri:e.uri,showUrl:te,spec:k})})]})},dt=a.memo((function(){const{episodeId:e=""}=(0,i.UO)(),t=(0,l.YD)(e).toURI(),s=(0,Fe.I)(t),n=(0,Se.V)("episode",s);return n?(0,y.jsx)(ot.InstrumentedRedirect,{to:n}):s?(0,Be.Ey)(s)?(0,y.jsx)(ot.InstrumentedRedirect,{to:(0,l.EC)(s.book?.uri).toURLPath(!0)}):(0,y.jsx)(a.Suspense,{fallback:null,children:(0,y.jsx)(lt.C,{pageId:o.Wg.PODCAST_EPISODE,uri:t,children:(0,y.jsx)(ct,{episode:s})})}):(0,y.jsx)(p.h,{hasError:!1,errorMessage:c.ag.get("error.not_found.title.podcast")})}));function ut(e){return e?.replace(/T.*/,"")||""}},44170:(e,t,s)=>{s.d(t,{E:()=>I,$:()=>T});var a=s(38698),i=s(59496);const n="wIA_5Ypq0rltNPeZQpM4",r="Swi6YtNEFCCVz8l4y75v",o="pklLPOhfigdytL9bPoth",l="sb24Y8kdMZInJ8aI8dXT";var c=s(4637);class d extends i.PureComponent{static defaultProps={current:0,max:1};render(){const{ariaValueText:e,max:t,current:s}=this.props,a=t&&s?100*Math.min(1,s/t):0,i={transform:`translateX(-${100-a}%)`},d=e||`${Math.round(a)}%`;return(0,c.jsxs)("div",{className:n,role:"progressbar",tabIndex:0,"aria-valuenow":s,"aria-valuemin":0,"aria-valuemax":t,"aria-valuetext":d,children:[(0,c.jsx)("div",{className:r}),(0,c.jsx)("div",{className:o,children:(0,c.jsx)("div",{"data-testid":"progressBarFg",className:l,style:i})})]})}}const u=d,p="qfYkuLpETFW3axnfMntO",m="jOd7lbjiyc_kvRJaAbeL",x="_q93agegdE655O5zPz6l",h="z7Yl7CIT1AB0y91f_moh",y="iLIlkUcfIq56KncGtX7u",g="nV50yZ6BR_TIuWP3l7b1",j="qLjIx_SzBEpDRA_q7kxQ";var b=s(53083),k=s(76917),C=s(80326),P=s(84875),f=s.n(P),v=s(540);let T;!function(e){e[e.LARGE=0]="LARGE",e[e.SMALL=1]="SMALL"}(T||(T={}));const I=e=>{const{resumePositionMs:t=0,releaseDate:s,isPlaying:i,fullyPlayed:n,durationMs:r,size:o=T.SMALL,position:l=t}=e;return(0,c.jsxs)("div",{className:f()(p,{[m]:o===T.LARGE}),children:[s?(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:x,children:(0,a.rL)((0,a.RX)(s))}):null,(()=>{if(n&&!i)return(0,c.jsxs)("div",{className:y,children:[(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:h,children:C.ag.get("episode.played")}),(0,c.jsx)(k.N,{iconSize:16,className:j,"aria-hidden":"true"})]});if(l>0||i){const e=Math.ceil(Math.max(r-l,0));return(0,c.jsx)("div",{className:y,children:(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:h,children:(0,c.jsx)(v.ng,{durationMs:e})})})}return(0,c.jsx)(b.D,{as:"p",variant:"mesto",className:x,children:(0,c.jsx)(v.nL,{durationMs:r})})})(),!n&&l>0||i?(0,c.jsx)("div",{className:g,children:(0,c.jsx)(u,{current:l,max:r,isEnabled:!1})}):null]})}}}]);
//# sourceMappingURL=xpui-routes-episode.js.map