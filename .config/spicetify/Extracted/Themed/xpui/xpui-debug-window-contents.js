"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[5320],{55059:(e,n,s)=>{s.r(n),s.d(n,{DebugWindowContents:()=>Ln});var t=s(59496),l=s(73208),a=s(81346),r=s(34115),i=s(94792),o=s(3873),c=(s(39117),s(63721)),d=s(64740),u=s(76901);const h=(0,d.v)();window.abba={get:async function(e,n){const s=new c.ProductStateClient((0,u.G)()),t=(await s.getValues(c.GetValuesRequest.fromPartial({}))).pairs;let l={},a="";if(t.abbaOverrides?a=t.abbaOverrides:t.abbaoverrides&&(a=t.abbaoverrides),a)try{l=JSON.parse(a)}catch(e){console.error(`error parsing value=${a}, error=${e}`)}if(Object.prototype.hasOwnProperty.call(l,e))return console.warn(`Abba: Override for ${e} : ${l[e]}`),void setTimeout((()=>n(null,l[e])),0);h.post("sp://abba/v1/flags",{flags:[e]}).then((s=>{const{flags:t=[]}=s,l=t[0]&&t[0].featureName===e&&t[0].cell;n(null,l||null)})).catch((e=>{n(e)}))},getAll:function(e){console.warn("Abba:getAll should only be used by TA tests for logging purposes."),h.get("sp://abba/v1/all_flags").then((n=>{const{flags:s=[]}=n,t=s.reduce(((e,n)=>(e[n.featureName]=n.cell,e)),{});e(null,JSON.stringify(t,null,2))})).catch((n=>{e(n)}))},getRequestedFlagNames:function(e){h.get("sp://abba/v1/requested_flag_names").then((n=>{e(null,JSON.stringify(n.sort(),null,2))})).catch((n=>{e(n)}))}};var x=s(19215);const j="rh7v8PDNC0ke2OkkyRhk",m="L6pjHHt_x4tfksfQ4Pem",v="H0jIvFjLqNoS1jwvMR82",p="UZcGKrwobJ2tS5Ka06pD";var g=s(4637);const f=()=>{const[e,n]=(0,t.useState)(60),[s,l]=(0,t.useState)("stream"),[a,r]=(0,t.useState)("");return(0,g.jsxs)("div",{className:j,children:[(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Stream time (in seconds)"}),(0,g.jsx)("input",{className:v,type:"text",value:e,onChange:e=>{const s=e.target.value;n(parseInt(s,10))}}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.increaseStreamTime(e)},children:"Add time"}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.increaseStreamTime(1200)},children:"Add 20 minutes"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Override Country"}),(0,g.jsxs)("select",{value:a,onBlur:()=>{},onChange:e=>{r(e.target.value)},children:[(0,g.jsx)("option",{value:"US",children:"USA"}),(0,g.jsx)("option",{value:"UK",children:"United Kingdom"}),(0,g.jsx)("option",{value:"JP",children:"Japan"}),(0,g.jsx)("option",{value:"BR",children:"Brasil"}),(0,g.jsx)("option",{value:"AU",children:"Australia"}),(0,g.jsx)("option",{value:"SE",children:"Sweden"}),(0,g.jsx)("option",{value:"",children:"Clear Override"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.overrideCountry(a)},children:"Override"})]}),(0,g.jsxs)("div",{className:m,children:[(0,g.jsx)("p",{children:"Clear ad in slot"}),(0,g.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{l(e.target.value)},children:[(0,g.jsx)("option",{value:"stream",children:"STREAM"}),(0,g.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,g.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,g.jsx)("option",{value:"hpto",children:"HPTO"}),(0,g.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.clearSlot(s)},children:"Clear slot"}),(0,g.jsx)("p",{children:"Trigger ad in slot"}),(0,g.jsxs)("select",{value:s,onBlur:()=>{},onChange:e=>{l(e.target.value)},children:[(0,g.jsx)("option",{value:"stream",children:"STREAM"}),(0,g.jsx)("option",{value:"billboard",children:"BILLBOARD OVERLAY"}),(0,g.jsx)("option",{value:"promotedsong",children:"PROMOTED SONG"}),(0,g.jsx)("option",{value:"hpto",children:"HPTO"}),(0,g.jsx)("option",{value:"leaderboard",children:"LEADERBOARD"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.triggerSlot(s)},children:"Trigger slot"})]}),(0,g.jsx)("button",{className:p,onClick:()=>{x.N.queueVideoAd()},children:"Queue Video Ad"})]})};var b=s(90641),y=s(6923),N=s(93135),S=s(25324);const O="scaF2wOGtuiU5UBKJrGa",w="PjVBb0nlrIUasTrrFgCx",C="MjtdwpkzFFhhmzeyzOy2",A="uVClWczmJLRR5jfAENGP",k=[{label:"Production",value:"prod"},{label:"Development",value:"dev"}],I=()=>{const e=(0,b.I0)(),n=(0,b.v9)((e=>e.inAppMessaging.env)),s=(0,b.v9)((e=>e.inAppMessaging.message)),[l,a]=(0,t.useState)(""),[r,i]=(0,t.useState)(""),[o,c]=(0,t.useState)(!1);(0,t.useEffect)((()=>{s&&o&&c(!1)}),[s,o]);const d=!s&&o;return(0,g.jsx)("div",{className:O,children:(0,g.jsxs)("div",{className:w,children:[(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingEnv",children:"Mode (endpoint):"})}),(0,g.jsx)(N.v,{dir:"auto",value:n,id:"desktop.settings.inAppMessagingEnv",onSelect:function(n){"prod"!==n&&"dev"!==n||e((0,S.q1)(n))},children:k.map((({label:e,value:n})=>(0,g.jsx)("option",{value:n,children:e},n)))}),(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingCreativeId",children:"Creative Id:"})}),(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:C,placeholder:"(eg. 12123434)",id:"desktop.settings.inAppMessagingCreativeId",name:"Creative Id",type:"text",value:l,onChange:function(e){a(e.target.value),c(!1)}})}),(0,g.jsx)("div",{children:(0,g.jsx)("label",{htmlFor:"desktop.settings.inAppMessagingAppUri",children:"URI for Dynamic Content (optional):"})}),(0,g.jsx)("div",{children:(0,g.jsx)("input",{className:C,placeholder:"(eg. spotify:artist:123)",id:"desktop.settings.inAppMessagingAppUri",name:"App Uri",type:"text",value:r,onChange:function(e){i(e.target.value),c(!1)}})}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{}),(0,g.jsx)("div",{children:(0,g.jsx)(y.D,{colorSet:"invertedLight",onClick:function(n){n.preventDefault(),e((0,S.XJ)(l,r)),c(!1),window.setTimeout((()=>{c(!0)}),1e3)},children:"Get Preview"})}),d&&(0,g.jsx)("div",{className:A,children:"No Messsage found"})]})})};var R=s(80270),P=s(40694),E=s(11329),T=s(14903),D=s(45365),B=s(43057),L=s(86913),U=s(78759),J=s(87768),M=s(18200);const F="mHtMWLOMN_lZh6Eq1lBe",_="Ryr6R2suLwNRYud_tuXs",z="CB4s_xlu5db24RNOdk9e",q="rXwi6WM3vPDuyj9fQLw_",V="rqhyBEi1217s5l9KD42B",W=({name:e,value:n})=>(0,g.jsxs)(T.S,{hover:!0,children:[(0,g.jsx)(D.p,{className:_,highlight:!0,children:e}),(0,g.jsx)(D.p,{className:z,truncate:!0,align:"right",children:n}),(0,g.jsx)(D.p,{className:q,children:(0,g.jsx)("button",{className:V,onClick:()=>{void 0!==n&&(0,M.v)(n)},children:(0,g.jsx)(B.c,{iconSize:16})})})]}),K=()=>{const e=(0,J.p)(),n=e.token?.accessToken??"Not authorized",s=new Date(e.token?.accessTokenExpirationTimestampMs??0);return(0,g.jsx)("div",{className:F,children:(0,g.jsx)(L.x,{children:(0,g.jsxs)(U.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(W,{name:"Token",value:n}),(0,g.jsx)(W,{name:"Expires At",value:s.toLocaleString()}),(0,g.jsx)(W,{name:"Retry Attempt",value:e.retryAttempt?.toString()??"N/A"}),(0,g.jsx)(W,{name:"Retry At",value:e.retryAt?.toLocaleString()??"N/A"})]})]})})})};var $=s(22028);const H="WT_NZ6JEU_dK03UPUjQm",G="qiIwEYs34R1jRXwb_sZ8",Q="x_Ve8I65cAL4jZHbutKP",Y="y_1aE6JElOnrFrvmgpUO",Z="rOqbwjYwx0AIWTfoYOQe",X="w0xpmm3i0WhHooXZt9xC",ee=({name:e,value:n})=>(0,g.jsxs)(T.S,{hover:!0,children:[(0,g.jsx)(D.p,{className:G,highlight:!0,children:e}),(0,g.jsx)(D.p,{className:Q,truncate:!0,align:"right",children:n}),(0,g.jsx)(D.p,{className:Y,children:(0,g.jsx)("button",{className:Z,onClick:()=>{void 0!==n&&(0,M.v)(n)},children:(0,g.jsx)(B.c,{iconSize:16})})})]}),ne=({device:e})=>(0,g.jsxs)(L.x,{children:[(0,g.jsx)("h3",{className:X,children:e.name}),(0,g.jsxs)(U.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(ee,{name:"Device",value:e?.name}),(0,g.jsx)(ee,{name:"Identifier",value:e.id}),(0,g.jsx)(ee,{name:"Type",value:e.type}),(0,g.jsx)(ee,{name:"Group",value:e.isGroup.toString()}),(0,g.jsx)(ee,{name:"Local",value:e.isLocal.toString()}),(0,g.jsx)(ee,{name:"Active",value:e.isActive.toString()}),(0,g.jsx)(ee,{name:"Connecting",value:e.isConnecting.toString()}),(0,g.jsx)(ee,{name:"Disabled",value:e.isDisabled.toString()}),(0,g.jsx)(ee,{name:"Volume",value:e.volume.toString()}),(0,g.jsx)(ee,{name:"HiFi",value:e.hifiSupport.deviceSupported.toString()})]})]})]}),se=()=>{const e=(0,$.O)(),n=e.devices;return(0,g.jsxs)("div",{className:H,children:[(0,g.jsx)(L.x,{children:(0,g.jsxs)(U.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsx)("tbody",{children:(0,g.jsx)(ee,{name:"Status",value:e.connectionStatus})})]})}),n.map((e=>(0,g.jsx)(ne,{device:e},e.id)))]})};s(97599),s(15267),s(43059);var te=s(54820),le=s(17157),ae=s(42734),re=s(87410),ie=s(43477),oe=s(49297),ce=s(9206),de=s(47882),ue=s(35371),he=s(76466),xe=s(90684),je=s(53937),me=s(8362),ve=s(58758),pe=s(53083),ge=s(80517),fe=s(26289),be=s(9277),ye=s(3657),Ne=s(56277);const Se="gbcTqus4yhTHlzm2IETQ",Oe="QoWcMe7qZMDKemQfS8Qu",we="ZeUVhdgF8ZRjvUCTdmLr",Ce="mJkwncrS8jYg4iIg1f7y";const Ae=[ae.nW,te.Ul,le.M$,re.gw,oe._X,de.No,ue.PodcastPaywallsClient,he.PrefsClient,je.ShowServiceClient,me.KQ,ye.R3,Ne.Dx,xe.HB,ce.BK,c.ProductStateClient,ve.Pn,ie.ListenLaterServiceClient],ke="debug-esperanto-requests";const Ie=()=>{const[e]=(0,t.useState)((()=>{const e=(0,u.G)();return Ae.reduce(((n,s)=>(n[s.SERVICE_ID]={calls:s.DECODERS,client:new s(e)},n)),{})})),n=Object.keys(e),[s,l]=(0,t.useState)(n[0]),a=e[s].calls,r=Object.keys(a),[i,o]=(0,t.useState)(r[0]),[c,d]=(0,t.useState)(null),[h,x]=(0,t.useState)(""),[j,m]=(0,t.useState)(""),v=(0,P.um)(),p=(0,t.useCallback)(((n,s)=>{const t=n??Object.keys(e)[0],a=e[t].calls,r=s??Object.keys(a)[0];l(t),o(r);const i=function(e,n,s){const t=e.getItem(ke);return"string"!=typeof t?null:JSON.parse(t)[n]?.[s]??null}(v,t,r);x(null!==i?i:JSON.stringify(a[r].request(new Uint8Array),((e,n)=>void 0===n?null:n),2))}),[v,e]);return(0,t.useEffect)((()=>{p()}),[p]),(0,t.useEffect)((()=>{!function(e,n,s,t){const l=e.getItem(ke),a="string"==typeof l?JSON.parse(l):{};Object.hasOwn(a,n)||(a[n]={}),a[n][s]=t,e.setItem(ke,JSON.stringify(a))}(v,s,i,h)}),[v,s,i,h]),(0,g.jsxs)("div",{className:Se,children:[(0,g.jsxs)("div",{className:Oe,children:[(0,g.jsx)(pe.D,{as:"p",variant:"ballad",children:"Endpoint"}),(0,g.jsx)(ge.i,{id:"service-dropdown",value:s,onChange:e=>{p(e.currentTarget.value)},children:n.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))}),(0,g.jsx)(ge.i,{id:"call-dropdown",value:i,onChange:e=>{p(s,e.currentTarget.value)},children:r.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})]}),(0,g.jsxs)("div",{className:we,children:[(0,g.jsx)(pe.D,{as:"p",variant:"ballad",children:"Request"}),(0,g.jsx)(fe.P,{buttonSize:"sm",onClick:()=>{try{const e=JSON.parse(h,((e,n)=>null===n?void 0:n)),n=JSON.stringify(e,((e,n)=>void 0===n?null:n),2);x(`${n}\n`)}catch(e){}},children:"Prettify"}),(0,g.jsx)(fe.P,{buttonSize:"sm",onClick:async()=>{if(c)return c.cancel(),void d(null);const n=e[s].client;var t;const l=n[(t=i).charAt(0).toLowerCase()+t.slice(1)];if(1===l.length){const e=await l.call(n,JSON.parse(h,((e,n)=>null===n?void 0:n)));m(JSON.stringify(e,void 0,2))}else 2===l.length&&d(l.call(n,JSON.parse(h,((e,n)=>null===n?void 0:n)),(e=>{m(JSON.stringify(e,void 0,2))})))},children:null!==c?"Cancel":"Send"}),(0,g.jsx)(be.B,{value:h,onChange:e=>{x(e.currentTarget.value)}})]}),(0,g.jsxs)("div",{className:Ce,children:[(0,g.jsx)(pe.D,{as:"p",variant:"ballad",children:"Response"}),(0,g.jsx)(be.B,{value:j,readOnly:!0})]})]})};s(52336),s(50127);var Re=s(31612);var Pe=s(68789),Ee=s(68623),Te=s(31202);var De=s(9391),Be=s(16509);var Le=s(58964),Ue=s(64384),Je=s(18633);const Me="bFE0oGWgZ40KJHjcBj12",Fe="nAeIvCNG4jVwkKxAEqwm",_e="KG4I4Zh3DDzaN0XwzddI",ze="tiUNZpj0HxFf5EOWSiCA",qe="eymcN9Ndbrbe5jR7URP_",Ve="nzbIAA5MqUSD0hIKUuHg",We="hksYFxAm48XqAEbpcukQ",Ke="UnO1u4VJB0B6pTtqWh1n",$e="xlSWVFMQmYmRK34yiPOA",He="oKgZ0g8at59jN8nf8Bee",Ge="Nodut0kqaRIc93iGqbbP",Qe="dUIum8rPR6Msq9wot5ky",Ye="QHO5pYBkfWBn6qyAh9dp";const Ze=({size:e,ranges:n})=>{if(0===n.length)return(0,g.jsx)("div",{className:We,children:(0,g.jsx)("div",{className:Ke})});const s=`linear-gradient(90deg, ${n.map((n=>{const s=100*n.fromByte/e,t=100*n.toByte/e;return`transparent ${s}%, ${Pe.$_Y.azure135} ${s}%, ${Pe.$_Y.azure135} ${t}%, transparent ${t}%`})).join(", ")})`;return(0,g.jsx)("div",{className:We,children:(0,g.jsx)("div",{className:Ke,style:{background:s}})})},Xe=({item:e,file:n})=>{const s=(0,Le.g)(),t=(function(e){let n,s,t=0;if(0===e.length)return t;for(n=0;n<e.length;n++)s=e.charCodeAt(n),t=(t<<5)-t+s,t|=0;return t}(`${n.format}${n.bitrate}`)+180)%360;return(0,g.jsxs)(T.S,{hover:!0,children:[(0,g.jsx)(D.p,{className:Fe,highlight:!0,children:(0,g.jsxs)("div",{className:$e,style:{background:`linear-gradient(180deg, hsl(${t}, 60%, 30%), hsl(${t}, 40%, 70%))`},children:[(0,g.jsx)("span",{className:He,children:n.format}),(0,g.jsx)("span",{className:Ge,children:en(n.bitrate,1e3,"k")})]})}),(0,g.jsx)(D.p,{className:_e,truncate:!0,children:(0,g.jsxs)("div",{className:Ve,children:[n.fileId,(0,g.jsx)(Ze,{size:n.byteSize,ranges:n.byteRanges})]})}),(0,g.jsxs)(D.p,{className:ze,children:[(0,g.jsx)("button",{className:qe,onClick:()=>{s.play({uri:"spotify:internal:fileplayback",pages:[{items:[{...e,provider:"context",metadata:{"media.manifest":JSON.stringify({id:n.fileId,bitrate:n.bitrate,format:n.formatEnum,encryption:"aes"})}}]}]},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,g.jsx)(Ee.J,{iconSize:16})}),(0,g.jsx)("button",{className:qe,onClick:()=>{(0,M.v)(n.fileId)},children:(0,g.jsx)(B.c,{iconSize:16})})]})]})};function en(e,n=1,s=""){if(void 0!==e&&-1!==e)return"string"==typeof e&&(e=Number.parseInt(e,10)),`${(e/n).toLocaleString("en",{maximumFractionDigits:10})}${s}`}function nn(e){if(void 0!==e)return(0,Je.m)(parseInt(e,10))}const sn=({name:e,value:n})=>(0,g.jsxs)(T.S,{hover:!0,children:[(0,g.jsx)(D.p,{className:Fe,highlight:!0,children:e}),(0,g.jsx)(D.p,{className:_e,truncate:!0,align:"right",children:n}),(0,g.jsx)(D.p,{className:ze,children:(0,g.jsx)("button",{className:qe,onClick:()=>{void 0!==n&&(0,M.v)(n)},children:(0,g.jsx)(B.c,{iconSize:16})})})]}),tn=()=>{const e=(0,Ue.Y)((e=>e?.item??null)),n=function(){const[e,n]=(0,t.useState)(null),s=(0,Te.f)();return(0,t.useEffect)((()=>{let e=!0;return s.getPlaybackInfo().then((s=>{e&&n(s)})),()=>{e=!1}}),[s]),(0,Be._)(De.r.INFO,(({data:e})=>{n(e)})),e}(),s=function(e=null,n=null){const[s,l]=(0,t.useState)(null),a=(0,Te.f)();return(0,t.useEffect)((()=>{let s=!0,t=null;if(null===e)l(null);else{const r=async()=>{const n=await a.getFiles(e);s&&l(n)};r(),null!==n&&(t=window.setInterval(r,n))}return()=>{s=!1,null!==t&&window.clearInterval(t)}}),[a,e,n]),s}(e?.uri,500),l=(0,Le.g)();return null===e?(0,g.jsx)("div",{className:Me,children:"Nothing is currently playing."}):(0,g.jsxs)("div",{className:Me,children:[(0,g.jsxs)("div",{className:Qe,children:[(0,g.jsx)(pe.D,{variant:"violaBold",children:"Forced shuffle"}),(0,g.jsx)(Re.Z,{id:"forced-shuffe",value:l.getForcedShuffle(),onSelected:e=>{l.setForcedShuffle(e)}})]}),(0,g.jsx)("div",{children:(0,g.jsx)("button",{className:Ye,onClick:()=>{l.play({uri:"invalid_context_uri"},{referrerIdentifier:"PlayerStub_UnknownReferrer",featureIdentifier:"debug"})},children:(0,g.jsx)("span",{children:"Clear context"})})}),(0,g.jsx)(L.x,{children:(0,g.jsxs)(U.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"16px"})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsx)(sn,{name:"url"===n?.fileType?"URL":"File ID",value:n?.fileId}),(0,g.jsx)(sn,{name:"Type",value:n?.fileType}),(0,g.jsx)(sn,{name:"url"===n?.fileType?"URL":"File ID",value:n?.fileId}),(0,g.jsx)(sn,{name:"Codec",value:n?.codecName}),(0,g.jsx)(sn,{name:"Bitrate",value:en(n?.fileBitrate,1e3,"k")}),(0,g.jsx)(sn,{name:"Strategy",value:n?.strategy}),(0,g.jsx)(sn,{name:"Target Bitrate",value:en(n?.targetBitrate,1e3,"k")}),(0,g.jsx)(sn,{name:"Advisted Bitrate",value:en(n?.advisedBitrate,1e3,"k")}),(0,g.jsx)(sn,{name:"Target File Available",value:(a=n?.targetFileAvailable,!0===a?"Yes":"No")}),(0,g.jsx)(sn,{name:"Duration (hh:mm)",value:nn(n?.lengthMs)}),(0,g.jsx)(sn,{name:"Duration (ms)",value:en(n?.lengthMs,1," ms")}),(0,g.jsx)(sn,{name:"Speed",value:en(n?.playbackSpeed)}),(0,g.jsx)(sn,{name:"Gain Adjustment",value:en(n?.gainAdjustment)}),(0,g.jsx)(sn,{name:"Loudness",value:n?.hasLoudness?en(n?.loudness):void 0})]})]})}),(0,g.jsx)(L.x,{children:(0,g.jsxs)(U.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"72px"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{width:"32px"})]}),(0,g.jsx)("tbody",{children:s?.map((n=>(0,g.jsx)(Xe,{item:e,file:n},n.fileId)))})]})})]});var a};s(65040);var ln=s(84875),an=s.n(ln),rn=s(17657),on=s(21145),cn=s(69124),dn=s(43278),un=s(71679),hn=s(54890),xn=s(46890),jn=s(4086),mn=s(96234),vn=s(91682);const pn="HnpguQ3rtX44hdThdwy9",gn="oJJkROlUPmT5lEqzx1cZ",fn="dQkRirl4qynBunRI_kR2",bn="RqhApI3LSHoimdyl53SQ",yn="y1gsL5scUuLOArVrFYRl",Nn="Ni7focuLC626smvmOnLP",Sn="W5wjtyjHTJPGX5j7_WOp",On=({property:e,value:n,onOverride:s,isOverridden:t})=>{if("int"===e.type||"internal"===e.type)throw Error("Invalid property type for dropdown!");const l="bool"===e.type?["true","false"]:e.values;return(0,g.jsx)(ge.i,{id:`${e.name}-dropdown`,value:(n??e.default).toString(),onChange:n=>{var t;s(e.name,(t=n.currentTarget.value,"bool"===e.type?"true"===t:t))},className:an()({[Sn]:t}),children:l.map((e=>(0,g.jsx)("option",{value:e,children:e},e)))})},wn=({property:e,value:n,onOverride:s,isOverridden:l})=>{if("int"!==e.type)throw Error("Invalid property type for dropdown!");const[a,r]=(0,t.useState)(n??e.default),i=(0,rn.y1)((n=>{s(e.name,n)}),500);return(0,g.jsx)(on.y,{type:"number",min:e.lower,max:e.upper,value:a,onChange:e=>{r(e.currentTarget.value),i(Number.parseInt(e.currentTarget.value,10))},className:an()({[Sn]:l})})},Cn=({property:e,localValue:n,remoteValue:s,onOverride:t,filter:l})=>{const a=n!==s;return(0,g.jsxs)(T.S,{hover:!0,children:[(0,g.jsx)(D.p,{className:fn,title:e.name,highlight:!0,children:l?(0,g.jsx)(mn.o,{searchWords:[l??""],textToHighlight:e.name}):e.name}),(0,g.jsx)(D.p,{className:bn,children:e.default.toString()}),(0,g.jsx)(D.p,{className:bn,children:s?.toString()??null}),(0,g.jsx)(D.p,{className:bn,children:"bool"===e.type||"enum"===e.type?(0,g.jsx)(On,{property:e,value:n,onOverride:t,isOverridden:a}):"int"===e.type?(0,g.jsx)(wn,{property:e,value:n,onOverride:t,isOverridden:a}):null})]})},An="debugPanelRemoteConfigLastChangedAtByPropertyName",kn=({properties:e,localConfiguration:n,remoteConfiguration:s,setOverrides:l,clearOverrides:a})=>{const{filter:r}=(0,t.useContext)(vn.fo),i=(0,P.um)(),o=()=>{const e=i.getItem(An);return e instanceof hn.d||e instanceof xn.y?{}:e},c=(e,n)=>{l(dn.VK.fromJSON({[e]:n})),i.setItem(An,{...o(),[e]:Date.now()})},d=(0,t.useRef)(o()),u=e.sort(((e,n)=>(d.current[n.name]??0)-(d.current[e.name]??0)||e.name.localeCompare(n.name)));return(0,g.jsxs)("div",{className:yn,children:[(0,g.jsxs)("div",{className:Nn,children:[(0,g.jsx)(fe.P,{buttonSize:"sm",onClick:()=>{a(),i.clearItem(An)},children:"Clear local overrides"}),(0,g.jsx)(jn.K,{placeholder:"Find",alwaysExpanded:!0})]}),(0,g.jsx)(L.x,{children:(0,g.jsxs)(U.i,{children:[(0,g.jsxs)("colgroup",{children:[(0,g.jsx)("col",{width:"30%"}),(0,g.jsx)("col",{}),(0,g.jsx)("col",{})]}),(0,g.jsxs)("tbody",{children:[(0,g.jsxs)(T.S,{children:[(0,g.jsx)(cn.x,{className:gn,children:"Name"}),(0,g.jsx)(cn.x,{className:gn,children:"Default"}),(0,g.jsx)(cn.x,{className:gn,children:"Remote"}),(0,g.jsx)(cn.x,{className:gn,children:"Local"})]}),u.filter((e=>-1!==e.name.toLowerCase().indexOf(r.toLowerCase()))).map((e=>(0,g.jsx)(Cn,{property:e,localValue:n.getValue(e.name),remoteValue:s.getValue(e.name),onOverride:c,filter:r},e.name)))]})]})})]})},In=()=>{const e=[...(0,dn.y6)()],{localConfiguration:n,remoteConfiguration:s,setOverrides:t,clearOverrides:l}=(0,un.j)();return(0,g.jsx)("div",{className:pn,children:(0,g.jsx)(vn.hz,{uri:"spotify:internal:debug:remote-config-properties",children:(0,g.jsx)(kn,{properties:e,localConfiguration:n,remoteConfiguration:s,setOverrides:t,clearOverrides:l})})})},Rn="wjncHEmBUc7V8RZYdENw",Pn="uyHngn_fJez61BsFl3tA",En="J2KhtXbDovVMDOMzv1Jy",Tn="h5nLocSUS3w2NB53IdWQ",Dn="debugWindowActiveTabGroup",Bn="debugWindowActiveTabIndex",Ln=()=>{const e=(0,Te.f)().getCapabilities().canGetFiles,n=(0,o.wW)(),s=(0,o.wW)(),c=(0,R.ky)();(0,t.useEffect)((()=>{c&&(c.title="Spotify Debug Window")}),[c]);const d=(0,t.useMemo)((()=>Object.fromEntries(Object.entries({Page:[null].filter(E.K),Authorization:[{label:"Access Token",Panel:K}],Playback:[e?{label:"Playback",Panel:tn}:null,{label:"Connect",Panel:se}].filter(E.K),"Data Fetching":[n?{label:"Esperanto",Panel:Ie}:null,null].filter(E.K),Other:[{label:"Remote Config",Panel:In},s?{label:"Ads",Panel:f}:null,{label:"In-App Messaging",Panel:I}].filter(E.K)}).filter((([e,n])=>n.length>0)))),[e,n,s]),u=Object.keys(d),h=(0,P.um)(),x=h.getItem(Dn),j="string"==typeof x&&x in d?x:u[0],[m,v]=(0,t.useState)(j),p=h.getItem(Bn),b="number"==typeof p&&p in d[m]?p:0,[y,N]=(0,t.useState)(b),S=d[m][y].Panel;return(0,g.jsx)("div",{className:"encore-dark-theme",children:(0,g.jsxs)("div",{className:Rn,children:[(0,g.jsx)(l.W,{className:Pn,children:(0,g.jsx)(a.b,{flexMobile:!0,children:u.map((e=>(0,g.jsxs)(t.Fragment,{children:[(0,g.jsx)(r.W,{children:e}),d[e].map(((n,s)=>(0,g.jsx)(i._,{active:m===e&&y===s,label:n.label,onClick:()=>{v(e),h.setItem(Dn,e),N(s),h.setItem(Bn,s)},className:En,children:n.label},n.label)))]},e)))})}),(0,g.jsx)("div",{className:Tn,children:(0,g.jsx)(S,{})})]})})}}}]);
//# sourceMappingURL=xpui-debug-window-contents.js.map