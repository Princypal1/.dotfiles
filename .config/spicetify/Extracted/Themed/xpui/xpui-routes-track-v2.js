"use strict";(("undefined"!=typeof self?self:global).webpackChunkopen=("undefined"!=typeof self?self:global).webpackChunkopen||[]).push([[4179],{37382:(e,a,i)=>{i.d(a,{E:()=>r});var t=i(23351),n=i(48882),s=i(46817),l=i(4637);const r=({album:e,index:a,artistURI:i})=>(0,l.jsx)(t.ZP,{value:"card",index:a,children:(0,l.jsx)(s.i,{index:a,latest:!1,showType:!0,...(0,n.B$)(e,i,e.name)})})},77402:(e,a,i)=>{i.d(a,{R:()=>o});var t=i(80326),n=i(23351),s=i(34728),l=i(48882),r=i(37382),d=i(44223),c=i(4637);const o=({albums:e,artistName:a,artistId:i,artistUri:o,className:m})=>e?(0,c.jsx)(n.ZP,{value:"shelf/albums",children:(0,c.jsx)(d.P,{total:e.totalCount,title:t.ag.get("rich-page.popular-albums-by-artist",{artist:a}),seeAllUri:`${(0,l.GJ)(i)}:discography:${s.VZ.Album.toLowerCase()}`,seeAllLabel:t.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:m,children:(0,l.Hr)(e.items).map(((e,a)=>(0,c.jsx)(r.E,{album:e,index:a,artistURI:o},e.uri)))})}):null},2985:(e,a,i)=>{i.d(a,{V:()=>c});var t=i(80326),n=i(23351),s=i(48882),l=i(86431),r=i(44223),d=i(4637);const c=({artistId:e,className:a,fansAlsoLike:i,title:c})=>(0,d.jsx)(n.ZP,{value:"shelf/fans-also-like",children:(0,d.jsx)(r.P,{total:i.length,title:c??t.ag.get("rich-page.fans-also-like"),seeAllUri:`${(0,s.GJ)(e)}:related`,className:a,children:i.map(((e,a)=>(0,d.jsx)(n.ZP,{value:"card",index:a,children:(0,d.jsx)(l.I,{index:a,uri:e.uri,name:e.profile.name,images:e.visuals.avatarImage?.sources||[]})},e.uri)))})})},31928:(e,a,i)=>{i.d(a,{j:()=>c});var t=i(59496),n=i(53083),s=i(80326),l=i(68765),r=i(74501),d=i(4637);const c=({artistName:e,artistUri:a,headerClassName:i,rowClassName:c,topTracks:o,topTracksTransformer:m,uri:u})=>{const k=(0,t.useMemo)((()=>o?.items.map((e=>m(e,u)))),[o?.items,m,u]),{usePlayContextItem:h}=(0,l.n)({uri:a},{featureIdentifier:"artist"});return k&&k.length>0?(0,d.jsxs)("div",{className:c,children:[(0,d.jsxs)("div",{children:[(0,d.jsx)(n.D,{variant:"mesto",children:s.ag.get("rich-page.popular-tracks")}),(0,d.jsx)(n.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:i,children:e})]}),(0,d.jsx)(r.k,{nrTracks:k.length,initialTracks:k,usePlayContextItem:h})]}):null}},97127:(e,a,i)=>{i.d(a,{y:()=>o});var t=i(80326),n=i(23351),s=i(34728),l=i(48882),r=i(37382),d=i(44223),c=i(4637);const o=({artistId:e,artistName:a,artistUri:i,className:o,singles:m})=>m?(0,c.jsx)(n.ZP,{value:"shelf/singles-and-eps",children:(0,c.jsx)(d.P,{total:m.totalCount,title:t.ag.get("rich-page.popular-singles-and-eps-by-artist",{artist:a}),seeAllUri:`${(0,l.GJ)(e)}:discography:${s.VZ.Single.toLowerCase()}`,seeAllLabel:t.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:o,children:(0,l.Hr)(m.items).map(((e,a)=>(0,c.jsx)(r.E,{album:e,index:a,artistURI:i},e.uri)))})}):null},25949:(e,a,i)=>{i.r(a),i.d(a,{default:()=>Ia});var t=i(59496),n=i(90641),s=i(92053),l=i(33366),r=i(51742),d=i(58908),c=i(80326),o=i(17913),m=i(97174),u=i(97921),k=i(42820),h=i(18805),g=i(53965),v=i(99567),p=i(27293),N=i(93824),S=i(20031),x=i(80505),y=i(55540),j=i(86494),A=i(1578),b=i(99654),F=i(92153);let C;!function(e){e.LOADING="LOADING",e.LOADED="LOADED",e.UNAVAILABLE="UNAVAILABLE"}(C||(C={}));const f=(0,F.ZP)(((e,a)=>{switch(a.type){case"LYRICS_LOADING":e[a.uri]={status:C.LOADING};break;case"LYRICS_LOADED":e[a.uri]={status:C.LOADED,data:{lyrics:{...a.response.lyrics}}};break;case"LYRICS_ERROR":e[a.uri]={status:C.UNAVAILABLE};break;default:throw new Error(`Unhandled lyrics action with type: ${a.type}`)}}));var L=i(39359),T=i(13870);var I=i(4637);const w={status:C.LOADING},R={status:C.UNAVAILABLE},D=t.createContext(void 0),P=({children:e,initialState:a={}})=>{const i=t.useReducer(f,a);return(0,I.jsx)(D.Provider,{value:i,children:e})},U=(e,a)=>{const i=t.useContext(D);if(void 0===i)throw new Error("useSEOLyrics must be used within a LyricsSEOProvider");if(!e||!(0,d.wj)(e)||a)return R;const[n,s]=i,l=n[e];return l||(s({type:"LYRICS_LOADING",uri:e}),(async e=>{const a=(0,d.EC)(e);return(await T.Zz.getSEOTrackLyrics(L.b.getInstance(),a.id)).body})(e).then((a=>{s({type:"LYRICS_LOADED",uri:e,response:a})})).catch((()=>{s({type:"LYRICS_ERROR",uri:e})})),w)};var E=i(68765),O=i(52852),B=i(13034),_=i(21654),G=i(83463),M=i(2183);var $=i(53083);const z="UDuv2dzJuOEimwKzf_Ht",W="crU3_phk5OplHUp2b_iW",Z=({padded:e})=>(0,I.jsx)($.D,{as:"p",dir:"auto",variant:"finale",className:`${z} ${e?W:""}`,children:"Lyrics powered by Musixmatch."}),V=({uri:e})=>{const{status:a}=U(e);return a!==C.LOADED?null:(0,I.jsx)(Z,{})};var K=i(84875),Y=i.n(K),Q=i(86483),H=i(3777),q=i(77402),J=i(31928),X=i(23351),ee=i(18633),ae=i(34728),ie=i(48882),te=i(37382),ne=i(44223);const se=({artistName:e,artistId:a,artistUri:i,className:t,releases:n,artistImages:s})=>n?(0,I.jsx)(X.ZP,{value:"shelf/releases",children:(0,I.jsx)(ne.P,{total:10,title:c.ag.get("rich-page.popular-releases-by-artist",{artist:e}),seeAllUri:`${(0,ie.GJ)(a)}:discography:${ae.VZ.Album.toLowerCase()}`,seeAllLabel:c.ag.get("artist-page.show-discography"),alwaysShowSeeAll:!0,className:t,listRowHeaderProps:s?{title:e,pretitle:c.ag.get("artist-page.popular"),media:(0,ee.o)(s,{desiredSize:48})||""}:null,children:n.items.map(((e,a)=>(0,I.jsx)(te.E,{album:e,index:a,artistURI:i},e.uri)))})}):null;var le=i(97127),re=i(32318);const de="o2TlnuNKxRO5RnB9BpHB",ce="q0Ke_aAvTcc4dO4wCHQt",oe="UlKUfS_GcROZmofuafOW",me="I5LORTI1u3A6VoUvRCBf",ue="TS85Qkpioa31wR0p4kzT",ke="yL1DLXBc05CR_ACv_NhA",he="k5kRkUyoz9znqg_SGOVQ";var ge=i(69908),ve=i(79469),pe=i(56777),Ne=i(16020),Se=i(47247);let xe;!function(e){e.SMALL="small",e.LARGE="large"}(xe||(xe={}));const ye=({art:e,disabled:a=!1,LinkComponent:i,name:t,size:n=xe.SMALL,type:l,uri:r})=>{const o=e?[e]:[],m=n===xe.SMALL?(0,ve.R)(l):function(e){switch(e){case ge.albumType.SINGLE:return c.ag.get("track-page.from-the-single");case ge.albumType.EP:return c.ag.get("track-page.from-the-ep");case ge.albumType.COMPILATION:return c.ag.get("track-page.from-the-compilation");case ge.albumType.ALBUM:default:return c.ag.get("track-page.from-the-album")}}(l),u=(0,s.s0)();return(0,I.jsxs)("div",{className:Y()(de,{[oe]:n===xe.SMALL,[ce]:a}),children:[(0,I.jsx)("div",{className:me,children:(0,I.jsx)(pe.O,{images:o,size:Se.m$.SIZE_80,title:t,type:Ne.p.ALBUM})}),(0,I.jsxs)("div",{className:ue,children:[(0,I.jsx)($.D,{variant:n===xe.SMALL?"mestoBold":"finale",children:m}),(0,I.jsx)(i,{to:r,children:(0,I.jsx)($.D,{as:"div",className:ke,variant:"balladBold",dir:"auto",children:t})})]}),(0,I.jsx)("div",{onClick:()=>{u((0,d.EC)(r).toURLPath(!0))},className:he})]})};var je=i(20990),Ae=i(49107),be=i(66121);const Fe="oTRKhYD0MZlNPm66W3Tw",Ce="sc95MwPalcHwYGZ7j3xN",fe="zrCZCfYv4zZiB1HYv9i8",Le="RnlxIDmWcYTbbwNSJNjA",Te="SHkxfN1vy0wpRMP1hK7I",Ie="COXBS6zLyyxKNYuEAzjZ",we="sR5IpdOUvoUGYKlC9Dk1",Re="FHMr3WxshoYjZ7jd3YwI",De="Evcwc4KM2tf9xrLbfB8B",Pe="x4_dsi31Cx2SO1L0uYIj",Ue="euPDqfFEBILj9KHDNLC1",Ee="x6FPRUKK40oDCPP7g6Ls",Oe="k3SPcfaKewjfdYumDcGw",Be="t9C7vRiN1OSC9uWfJEr0",_e="Onv6dO4lntCzKUqYa8PE",Ge=({richTrack:e})=>{const{search:a}=(0,s.TH)(),i=(0,t.useCallback)((()=>new URLSearchParams(a.slice(1)).get("highlight")||""),[a])(),{tracklistRef:n}=(0,be.W)(),l=e.albumOfTrack,r=(0,Ae.Y)(l?.uri||""),{usePlayContextItem:d}=(0,E.n)({uri:r},{featureIdentifier:"album"}),c=(0,t.useMemo)((()=>({items:[],total_count:0})),[]);return l?(0,I.jsx)("div",{ref:n,className:we,children:(0,I.jsx)(je.L,{ariaLabel:l.name,nrTracks:l.tracks.totalCount,albumUri:l.uri,highlightUri:i,discs:c,usePlayContextItem:d,hasHeaderRow:!1})}):null};var Me=i(2985),$e=i(74385);const ze=(0,t.memo)((function({track:e,richTrackArtists:a}){const i=(0,re.k)(),n=e.albumOfTrack,s=n?.playability?.playable,l=e.artistsWithRoles.items[0]?.artist,r=l?.discography?.topTracks,d=l?.discography?.popularReleasesAlbums,o=l?.discography?.albums,m=l?.discography?.singles,u={artistId:l?.id,artistName:l?.profile?.name,artistUri:l?.uri},[k,h]=(0,t.useState)(!1),g=(0,t.useCallback)((()=>{h(!k)}),[k]),v=a?.otherArtists&&a?.otherArtists.items.length>5;return(0,I.jsxs)("div",{"data-testid":"rich-track",children:[(0,I.jsx)(J.j,{artistName:l?.profile?.name,artistUri:l?.uri,headerClassName:De,rowClassName:Te,topTracks:r,topTracksTransformer:$e.X7,uri:e.uri}),(0,I.jsx)(se,{className:Re,releases:d,...u}),(0,I.jsx)(q.R,{albums:o,className:Re,...u}),(0,I.jsx)(le.y,{className:Re,singles:m,...u}),a&&(0,I.jsxs)(I.Fragment,{children:[(0,I.jsx)("div",{className:Ue,children:a.otherArtists.items.map(((e,a)=>(0,I.jsx)(se,{className:Y()(Pe,{[Oe]:a>4,[Be]:k&&a>4}),releases:e.artist.discography.popularReleasesAlbums,artistName:e.artist.profile.name,artistId:e.artist.id,artistUri:e.artist.uri,artistImages:e.artist.visuals.avatarImage?.sources},e.artist.id)))}),v&&(0,I.jsx)(Q.o,{onClick:g,className:_e,children:(0,I.jsx)($.D,{as:"h2",variant:"violaBold",children:k?c.ag.get("show_less"):c.ag.get("mwp.search.artists.all")})}),(0,I.jsx)(Me.V,{artistId:l.id,className:Y()(Re,{[Ee]:a.otherArtists.items.length>0}),fansAlsoLike:a.firstArtist.items[0].artist.relatedContent.relatedArtists.items,title:c.ag.get("artist-page.fansalsolike")})]}),n&&(0,I.jsx)(ye,{art:n.coverArt?.sources[0],disabled:!s||!i,LinkComponent:H.default,name:n.name,type:n.type,size:xe.LARGE,uri:n.uri}),(0,I.jsx)(Ge,{richTrack:e})]})})),We=ze;var Ze=i(6923);const Ve="QhDsXG1Gmo7XmQWLggAO",Ke="bZgWQj7UxvK8GYKWDA7N",Ye="AW61P3tnW5cKJCWtbhFh",Qe=({buttonText:e,onSecondaryButtonClick:a,onPrimaryButtonClick:i,secondaryButtonText:t,text:n})=>(0,I.jsxs)("div",{className:Ve,"data-testid":"static-activation-trigger",children:[(0,I.jsx)($.D,{className:Ke,variant:"cello",children:n}),(0,I.jsxs)("div",{className:Ye,children:[(0,I.jsx)(Q.o,{onClick:a,semanticColor:"textBase",children:t}),(0,I.jsx)(Ze.D,{onClick:i,colorSet:"invertedLight",children:e})]})]}),He="T1nqQ4HEh3heHy4RCCKa",qe="L8zjshPVgUMXyZR4FtOk",Je="YMn1FWcFmOz9osBrNvhF",Xe="Inbyq3TnvKDOJtcKFTDQ",ea="lWk5se4WETUOJwaEb8D6",aa="i8DyQbWCmDV_8N5XGJQT",ia="t5WPFlGTY6GCd9UOFfLu",ta="AGQ3wRyMVK1odq860qnT",na="ZX_r7uZgPgssaUplfpxT",sa="qrqctaPu2XBpxsw23nPX",la="XnWidTagai3nQwMPxIMF";let ra;!function(e){e.SMALL="small",e.LARGE="large"}(ra||(ra={}));const da=e=>{const{disabled:a,images:i,LinkComponent:t,name:n,size:l,uri:r}=e,o=l===ra.SMALL,m=(0,s.s0)();return(0,I.jsxs)("div",{className:Y()(qe,{[Je]:a}),"data-testid":"track-artist-link-card",children:[(0,I.jsx)(pe.O,{shape:pe.K.CIRCLE,images:i,size:Se.m$.SIZE_80,title:n,type:Ne.p.ARTIST}),(0,I.jsxs)("div",{className:Y()(ea,{[aa]:o}),children:[(0,I.jsx)($.D,{variant:"mestoBold",className:Xe,children:c.ag.get("card.tag.artist")}),(0,I.jsx)(t,{to:r,children:(0,I.jsx)($.D,{as:"div",dir:"ltr",className:ia,variant:"balladBold",children:n})})]}),(0,I.jsx)("div",{onClick:()=>{m((0,d.EC)(r).toURLPath(!0))},className:ta})]})},ca=({size:e=ra.LARGE,disabled:a=!1,...i})=>{const[n,s]=(0,t.useState)(!1),l=(0,t.useCallback)((()=>{s(!n)}),[n]),r=i.artists;return(0,I.jsxs)("div",{"data-testid":"track-artist-link-card-container",children:[(0,I.jsx)("div",{className:He,children:r.map(((t,s)=>(0,I.jsx)("div",{className:Y()({[sa]:n&&s>5,[na]:s>5}),children:(0,I.jsx)(da,{name:t.name,uri:t.uri,images:t.images,size:e,LinkComponent:i.LinkComponent,disabled:a},t.id)},`${t.uri}-${s}`)))}),r.length>6&&(0,I.jsx)(Q.o,{onClick:l,className:la,children:(0,I.jsx)($.D,{as:"p",variant:"violaBold",children:n?c.ag.get("show_less"):c.ag.get("mwp.search.artists.all")})})]})};var oa=i(35664);const ma="Q3OKWaFrTVTIRZyG05Gh",ua="cFQh4aLbQzp0aYzbWwjY",ka="NAaJboGa8qckhNNQTKTn",ha=({lines:e=[]})=>0===e.length?null:(0,I.jsxs)("div",{className:ma,children:[(0,I.jsx)($.D,{as:"h2",variant:"canon",semanticColor:"textBase",className:ua,children:c.ag.get("web-player.lyrics.title")}),e.map((({words:e},a)=>(0,I.jsx)($.D,{as:"p",dir:"auto",variant:"ballad",className:ka,children:e},`lyrics-seo-line-${a}`)))]}),ga=({uri:e})=>{const{status:a,data:i}=U(e);return a!==C.LOADED?null:(0,I.jsx)(ha,{lines:i?.lyrics.lines})};var va=i(15310);const pa=e=>{const{albumArtists:a,columnCount:i,uri:s}=e,l=i-2,r={"--column-count":i,"--left-column-end":l-2,"--right-column-start":l},{isAnonymous:d}=(0,n.v9)(va.Gg),o=(0,re.k)(),{data:m,status:u}=U(s,d),k=!!m&&u!==C.UNAVAILABLE||d;return(0,I.jsxs)(t.Suspense,{fallback:null,children:[k&&(0,I.jsx)("div",{className:Y()(fe,{[Le]:i>5}),style:{...r},children:d?(0,I.jsx)(Qe,{buttonText:c.ag.get("sign_up"),secondaryButtonText:c.ag.get("login"),text:c.ag.get("track-page.sign-in-to-view-lyrics"),onPrimaryButtonClick:oa.L6,onSecondaryButtonClick:oa.h$}):(0,I.jsx)(ga,{uri:s})}),(0,I.jsx)("div",{className:Y()(Fe,{[Ce]:i>5&&k}),style:{...r},children:(0,I.jsx)(ca,{artists:a,LinkComponent:H.default,disabled:!o})})]})};var Na=i(86417),Sa=i(91382),xa=i(92753),ya=i(38402),ja=i(29977),Aa=i(52284),ba=i(5488),Fa=i(863);const Ca={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"getRichTrackArtists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"uri"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackUnion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"uri"},value:{kind:"Variable",name:{kind:"Name",value:"uri"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"}},{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistsFields"}},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"NotFound"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtists"}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtists"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Track"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"firstArtist"},name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richRelatedArtistsFields"}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"otherArtists"},name:{kind:"Name",value:"artistsWithRoles"},arguments:[{kind:"Argument",name:{kind:"Name",value:"offset"},value:{kind:"IntValue",value:"1"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistItem"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richRelatedArtistsFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedContent"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"relatedArtists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"limit"},value:{kind:"IntValue",value:"20"}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistItem"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"TrackArtistPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"artist"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richArtistFields"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richArtistFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Artist"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"visuals"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"avatarImage"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}},{kind:"Field",name:{kind:"Name",value:"url"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"profile"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}}]}},{kind:"Field",name:{kind:"Name",value:"discography"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"popularReleasesAlbums"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistAlbums"}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistAlbums"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AlbumPage"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"richTrackArtistAlbumFields"}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"richTrackArtistAlbumFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Album"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"}},{kind:"Field",name:{kind:"Name",value:"type"}},{kind:"Field",name:{kind:"Name",value:"uri"}},{kind:"Field",name:{kind:"Name",value:"playability"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"playable"}}]}},{kind:"Field",name:{kind:"Name",value:"date"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isoString"}},{kind:"Field",name:{kind:"Name",value:"precision"}},{kind:"Field",name:{kind:"Name",value:"year"}}]}},{kind:"Field",name:{kind:"Name",value:"tracks"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"}},{kind:"Field",name:{kind:"Name",value:"items"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"track"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackNumber"}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"coverArt"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extractedColors"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorRaw"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hex"}}]}}]}},{kind:"Field",name:{kind:"Name",value:"sources"},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"}},{kind:"Field",name:{kind:"Name",value:"width"}},{kind:"Field",name:{kind:"Name",value:"height"}}]}}]}}]}}]},fa=e=>{const a=(i={uri:e},(0,Fa.a)(Ca,i,t));var i,t;if(!a.loading&&"Track"===a.data?.trackUnion?.__typename)return a.data.trackUnion},La=e=>e.items.map((e=>({name:e.artist.profile.name,images:(e.artist.visuals.avatarImage?.sources||[]).map((e=>({url:e.url,width:e.width,height:e.height}))),uri:e.artist.uri,id:e.artist.id}))),Ta=({uri:e,track:a,richTrackArtists:i})=>{const d=(0,xa.o)(),p=(0,re.k)(),F=(0,ya.g)(),C=(0,s.TH)(),f=(0,n.v9)(Aa.br),L=c.ag.getLocale(),T=(0,M.S9)({featureFlag:f,locale:L,type:"locale"}),{artistsWithRoles:w,albumOfTrack:R,duration:D,name:U}=a,$=R?.coverArt,z=R?.copyright.items,W=R?.courtesyLine,Z=R?.date?.isoString,K=$?.extractedColors?.colorRaw.hex,Y=($?.sources||[]).map((e=>({url:e.url,width:e.width||void 0,height:e.height||void 0}))),Q={uri:R?.uri||"",name:R?.name||""},H=(0,O.vI)(G.k.RTPFeaturedArtists,C),q=(0,l.W6)(_.es),J=H||q===_.VW.VARIANT;const X=J&&i,ee=La(w),ae=X?ee.concat(La(i.otherArtists)):ee,{spec:ie,logger:te}=(0,B.fU)(r.createDesktopTrackEventFactory,{data:{uri:e}}),ne=(0,n.v9)(va.n5),se=(0,n.v9)(ja.rZ);(0,Sa.M)({category:"rtp-feat-artist-and-credits-test",action:"remote-config-response",remoteConfigProperty:_.es,label:"dwp",context:`${e}|${J}`,country:ne?se:"",spt:!0,isAnonymous:F});const le=a.playability.playable,de=(0,Ae.Y)(e),{togglePlay:ce,isPlaying:oe,isActive:me}=(0,E.n)({uri:de},{featureIdentifier:"track"}),[ue,ke]=(0,b.Z)(e),he=(0,t.useCallback)((async()=>{d({targetUri:e,intent:ue?"unsave":"save",type:"click"});const a=ie.actionBarFactory().saveButtonFactory();te.logInteraction(ue?a.hitRemoveLike({itemNoLongerLiked:e}):a.hitLike({itemToBeLiked:e}));try{await ke(!ue)}catch{}}),[d,e,ue,ie,te,ke]),ge=(0,t.useCallback)((()=>((e,a,i)=>{const t=a.map((e=>e.name)).join(c.ag.getSeparator()),n=`${e} - song and lyrics by ${t}`,s=c.ag.get("i18n.meta.track-lyrics.title.raw",e,t);return i?s:n})(a.name,ae,T)),[ae,T,a.name]),ve=(0,t.useCallback)(((e,a)=>{te.logInteraction(ie.headerFactory().artistLinkFactory({position:a.position,uri:a.creator.uri}).hitUiNavigate({destination:a.creator.uri}))}),[te,ie]),pe=(0,t.useCallback)((()=>{const a=(0,S.aK)({isPlaying:oe,isActive:me,spec:ie.actionBarFactory().playButtonFactory(),logger:te,uri:e});ce({loggingParams:a})}),[me,oe,te,ie,ce,e]),Ne=(0,t.useCallback)((()=>{te.logInteraction(ie.actionBarFactory().contextButtonFactory().hitUiReveal())}),[te,ie]);return(0,I.jsxs)("section",{"data-testid":"track-page",children:[(0,I.jsx)(Na.$,{children:ge()}),(0,I.jsxs)(h.gF,{backgroundColor:K,children:[(0,I.jsxs)(g.W,{children:[(0,I.jsx)(N.$,{size:"md",onClick:pe,disabled:!le,isPlaying:oe,uri:e}),(0,I.jsx)(v.i,{text:U,dragUri:e,dragLabel:U})]}),(0,I.jsx)(y._P,{menu:(0,I.jsx)(k.$,{uri:e}),children:(0,I.jsx)(h.Oz,{dragUri:e,images:Y,name:U,placeholderType:"album"})}),(0,I.jsxs)(h.sP,{children:[(0,I.jsx)(h.dy,{small:!0,uppercase:!0,children:c.ag.get("song")}),(0,I.jsx)(y._P,{menu:(0,I.jsx)(k.$,{uri:e}),children:(0,I.jsx)(h.xd,{dragUri:e,dragLabel:U,children:U})}),J?(0,I.jsx)(h.QS,{creators:ee,releaseDate:Z,durationMilliseconds:D.totalMilliseconds,onCreatorClick:ve,isTrack:!0,album:Q}):(0,I.jsx)(h.QS,{creators:ee,releaseDate:Z,durationMilliseconds:D.totalMilliseconds,onCreatorClick:ve,isTrack:!0})]})]}),(0,I.jsx)(o.o,{backgroundColor:K,children:(0,I.jsxs)(o.F,{children:[(0,I.jsx)(h.rn,{children:(0,I.jsx)(N.$,{onClick:pe,isPlaying:oe,disabled:!le,size:"lg",uri:e})}),(0,I.jsx)(h.rn,{children:(0,I.jsx)(x.H,{isAdded:!!ue,onClick:he,disabled:!p,size:x.q.md})}),(0,I.jsx)(m.o,{uri:e,isFollowing:!!ue,onFollow:he,size:m.q.md}),(0,I.jsx)(y.yj,{menu:(0,I.jsx)(k.$,{uri:e}),onShow:Ne,children:(0,I.jsx)(u.z,{label:c.ag.get("more.label.context",U)})})]})}),(0,I.jsxs)(P,{children:[(0,I.jsxs)("div",{className:"contentSpacing",children:[(0,I.jsx)("div",{className:Te,children:(0,I.jsx)(A.T,{render:({columnCount:a})=>(0,I.jsx)(pa,{albumArtists:ae,columnCount:a,uri:e})})}),X?(0,I.jsx)(We,{track:a,richTrackArtists:i}):(0,I.jsx)(We,{track:a})]}),(0,I.jsx)("div",{className:"contentSpacing",children:(0,I.jsxs)("div",{className:Ie,children:[(0,I.jsx)(j.k,{copyrights:z||[],courtesyLine:W}),!F&&(0,I.jsx)(V,{uri:e})]})})]})]})},Ia=(0,t.memo)((function(){const{trackId:e=""}=(0,s.UO)(),a=(0,d.tn)(e).toURI(),i=(0,ba.QN)({uri:a}),t=fa(a);return i.loading||"Track"!==i.data?.trackUnion?.__typename?(0,I.jsx)(p.h,{hasError:null!==i.error,errorMessage:c.ag.get("track-page.error")}):(0,I.jsx)(Ta,{uri:a,track:i.data.trackUnion,richTrackArtists:t})}))},91382:(e,a,i)=>{i.d(a,{M:()=>o});var t=i(59496),n=i(40583),s=i(13235),l=i(33366),r=i(73483),d=i(66286),c=i(99644);const o=({category:e,action:a,remoteConfigProperty:i,defaultVariant:o,label:m,context:u,country:k,spt:h=!1,isAnonymous:g=!1})=>{const v=(0,l.W6)(i),p=(0,c.s4)();(0,t.useEffect)((()=>{if(!v||!m)return;const i={category:e,action:a,variant:o??v,label:m,os:(0,r.y)(),...u&&{context:u},...k&&{country:k},...h&&{sp_t:(0,d.vQ)("sp_t")}};g?p.send((0,s.k)(i)):p.send((0,n.x)(i))}),[v,m,e,a,u,k,h,g,p,o])}},86494:(e,a,i)=>{i.d(a,{k:()=>l});var t=i(53083);const n="rTMkDBDp47Eo12ZEQv4U";var s=i(4637);const l=({copyrights:e,courtesyLine:a})=>{const i=(e||[]).map(((e,a)=>{const i=e.text.replace(/^(\(C\)\s+)/,"").replace(/^(\(P\)\s+)/,"").replace(/^(©\s+)/,"").replace(/^(℗\s+)/,"");let n;return n="C"===e.type?"©":"P"===e.type?"℗":`(${e.type})`,(0,s.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:`${n} ${i}`},a)}));return a&&i.unshift((0,s.jsx)(t.D,{as:"p",variant:"finale",dir:"auto",children:a},i.length)),(0,s.jsx)("div",{className:n,children:i})}},52852:(e,a,i)=>{i.d(a,{vI:()=>t});const t=(e,a)=>"1"===(a?new URLSearchParams(a.search):void 0)?.get(e)},83463:(e,a,i)=>{let t;i.d(a,{k:()=>t}),function(e){e.UnauthLyrics="ulotw",e.InternalTrackLinks="itl",e.RichAlbumPage="ralph",e.PathfinderAlbumPage="pfap",e.I18nSEO="i18nSEO",e.RTPFeaturedArtists="rtpv2p1",e.RTPTrackCredits="rtpv2p2",e.Canonicals="atc",e.BlendParty="bp",e.BlendPartyV2="bpv2",e.VideoPodcastShowTitleTag="vidpodshow"}(t||(t={}))}}]);
//# sourceMappingURL=xpui-routes-track-v2.js.map